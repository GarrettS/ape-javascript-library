<!DOCTYPE html>
<html lang="en-US">
<head>
	<title>Calendar</title>
<link rel="stylesheet" type="text/css" href="../../../build/widget/Calendar/css/Calendar.css">
<style type="text/css">
    html {
        background: #8bf;
    }

    label {
        font: 15px Tahoma, sans-serif;
        position: relative;
        display: block;
        width: 20em;
    }
    label input {
        position: absolute;
        right: 0;
    }

    label input[type=text] {
        width: 8em;
    }
    /* for the style transition */
    .ape-calendar {
        opacity: 0;
    	filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);
        height: 10em;
        width: 9em;
        visibility: hidden;
    }
</style>

</head>
<body>

<div>
    <label for="start" id='sf'>Start (YYYY-MM-DD)<input id="start" name="start" type="date"></label>
</div>

<div>
    <label for="end">End (YYYY-MM-DD)<input id="end" type="date"></label>
</div>

<script src="../../../build/ape-ep-dom.js" type="text/javascript"></script>

<script src="../../../build/anim/anim.js" type="text/javascript"></script>
<script src="../../../build/widget/Calendar/Calendar.js" type="text/javascript"></script>
<script src="../../../build/widget/Calendar/Calendar_en.js" type="text/javascript"></script>
<script type="text/javascript">
// TODO: delegated focus event.
window.onload = function(){
    
    var APE = window.APE;
    if(APE.widget.Calendar.IS_NATIVE) return;

    window.start = APE.widget.Calendar.getById( "start" );
    window.end = APE.widget.Calendar.getById( "end" );

    //start.hideOnSelect = false;

// Add a style transition to show() and hide() the calendar.
    var anim = APE.anim,
        styleTransition,
        styleTransition2,
        duration = .1,
        endStyle = {
            opacity: .98, 
            width: "14.4em", 
            height: "13.8em",
            visibility: "visible"
        };

    start.onshow =  function(cs) {
        if(!styleTransition) {
            styleTransition = createStyleTransition(this.calendarId);
        }
        styleTransition.seekTo(1);
    };

    // override "hide".
    start.hide = function() {
        styleTransition.seekTo(0);
    };

    end.onshow =  function(cs) {
        if(!styleTransition2) {
            styleTransition2 = createStyleTransition(this.calendarId);
        }
        styleTransition2.seekTo(1);
    };

    // override "hide".
    end.hide = function() {
        styleTransition2.seekTo(0);
    };

    function createStyleTransition(id) {
        return new anim.StyleTransition(
             id, 
             endStyle, duration,
             anim.Transitions.getSigmoid(3)
         );
    }
                    
};
</script>
</body>
</html>