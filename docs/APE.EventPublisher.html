
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>JsDoc: APE.EventPublisher</title>
	<link rel="stylesheet" href="default.css" type="text/css" media="screen">
</head>

<body>

<table style="width: 100%" class="navbar">
<tr>
<td class="NavBar" valign="top"><font size="-2">SUMMARY:&nbsp;<a href="#field_summary">FIELD</a>&nbsp;|&nbsp;<a href="#constructor_summary">CONSTR</a>&nbsp;|&nbsp;<a href="#method_summary">METHOD</a></font></td>
<td class="NavBar" valign="top"><font size="-2">DETAIL:&nbsp;<a href="#field_detail">FIELD</a>&nbsp;|&nbsp;<a href="#constructor_detail">CONSTR</a>&nbsp;|&nbsp;<a href="#method_detail">METHOD</a></font></td>
</tr>
</table>

<h2>Class APE.EventPublisher</h2>


<i>Defined in <a href="EventPublisher.src.html">EventPublisher.js</a></i>





	<li><strong>author: </strong> Garrett Smith</li>

	<li><strong>class: </strong> <code>APE.EventPublisher</code> can be used for native browser events or custom events.<p> For native browser events, use <code>APE.EventPublisher</code>steals the event handler off native elements and creates a callStack. that fires in its place.</p><p>There are two ways to create custom events.</p><ol><li>Create a function on the object that fires the "event", then call that function when the event fires (this happens automatically with native events).</li><li>Instantiate an <code>EventPublisher</code> using the constructor, then call <code>fire</code>when the callbacks should be run.</li></ol><p>An <code>EventPublisher</code> itself publishes <code>beforeFire</code> and <code>afterFire</code>.This makes it possible to add AOP before advice to the callStack.</p><p>adding before-before advice is possible, but will impair performance.Instead, add multiple beforeAdvice with: <code>publisher.addBefore(fp, thisArg).add(fp2, thisArg);</code></p><p>There are no <code>beforeEach</code> and <code>afterEach</code> methods; to create advice for each callback would require modification to the registry (see comments below). I have not yet found a real need for this.</p></li>





<hr>

<!-- =========== FIELD SUMMARY =========== -->

<!-- =========== END FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<a name="constructor_summary"> </a>
<table border="1" cellpadding="3" cellspacing="0" width="100%">
<tr class="TableHeadingColor">
	<th colspan=2>Constructor Summary</th>
</tr>

	<tr bgcolor="white" class="TableRowColor">
	   <td>
	
		<code>
		<b><a href="#APE.EventPublisher">APE.EventPublisher</a></b>(src, type)
		</code>
		  <br>
		  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		  creates an <code>EventPublisher</code> with methods <code>add()</code>,<code>fire</code>, et c.
		  </td>
	</tr>

	<tr bgcolor="white" class="TableRowColor">
	   <td>
	
		<code>
		<b><a href="#APE.EventPublisher">APE.EventPublisher</a></b>(src, type)
		</code>
		  <br>
		  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		  creates an <code>EventPublisher</code> with methods <code>add()</code>,<code>fire</code>, et c.
		  </td>
	</tr>

</table>
&nbsp;
<!-- ======== END CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<a name="method_summary"> </a> 
<table border="1" cellpadding="3" cellspacing="0" width="100%">
	<tr class="TableHeadingColor">
		<th colspan=2>
			Method Summary
		</th>
	</tr>
	
		<tr bgcolor="white" class="TableRowColor">
			<td align="right" valign="top" width="1%">
				<font size="-1"><code>
				&nbsp;EventPublisher
				</code></font> 
			</td>
			<td>
				<code> <b> <a href="#add">add</a></b>(fp, thisArg) </code> 
				<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 
			</td>
		</tr>
	
		<tr bgcolor="white" class="TableRowColor">
			<td align="right" valign="top" width="1%">
				<font size="-1"><code>
				&nbsp;EventPublisher
				</code></font> 
			</td>
			<td>
				<code> <b> <a href="#addAfter">addAfter</a></b>(fp, thisArg) </code> 
				<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Adds afterAdvice to the callStack.
 
			</td>
		</tr>
	
		<tr bgcolor="white" class="TableRowColor">
			<td align="right" valign="top" width="1%">
				<font size="-1"><code>
				&nbsp;EventPublisher
				</code></font> 
			</td>
			<td>
				<code> <b> <a href="#addBefore">addBefore</a></b>(fp, thisArg) </code> 
				<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Adds beforeAdvice to the callStack.
 
			</td>
		</tr>
	
		<tr bgcolor="white" class="TableRowColor">
			<td align="right" valign="top" width="1%">
				<font size="-1"><code></code></font> 
			</td>
			<td>
				<code> <b> <a href="#fire">fire</a></b>(payload) </code> 
				<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fires the event.
 
			</td>
		</tr>
	
		<tr bgcolor="white" class="TableRowColor">
			<td align="right" valign="top" width="1%">
				<font size="-1"><code>
				&nbsp;EventPublisher
				</code></font> 
			</td>
			<td>
				<code> <b> <a href="#getEvent">getEvent</a></b>() </code> 
				<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 
			</td>
		</tr>
	
		<tr bgcolor="white" class="TableRowColor">
			<td align="right" valign="top" width="1%">
				<font size="-1"><code>
				&nbsp;Function
				</code></font> 
			</td>
			<td>
				<code> <b> <a href="#remove">remove</a></b>(fp, thisArg) </code> 
				<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Removes fp from callstack.
 
			</td>
		</tr>
	
		<tr bgcolor="white" class="TableRowColor">
			<td align="right" valign="top" width="1%">
				<font size="-1"><code>
				&nbsp;Function
				</code></font> 
			</td>
			<td>
				<code> <b> <a href="#removeAfter">removeAfter</a></b>(fp, thisArg) </code> 
				<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Removes fp from callstack's afterFire.
 
			</td>
		</tr>
	
		<tr bgcolor="white" class="TableRowColor">
			<td align="right" valign="top" width="1%">
				<font size="-1"><code>
				&nbsp;Function
				</code></font> 
			</td>
			<td>
				<code> <b> <a href="#removeBefore">removeBefore</a></b>(fp, thisArg) </code> 
				<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Removes fp from callstack's beforeFire.
 
			</td>
		</tr>
	
		<tr bgcolor="white" class="TableRowColor">
			<td align="right" valign="top" width="1%">
				<font size="-1"><code></code></font> 
			</td>
			<td>
				<code> <b> <a href="#toString">toString</a></b>() </code> 
				<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; helpful debugging info
 
			</td>
		</tr>
	
</table>
&nbsp;


<!-- ========== EVENT SUMMARY =========== -->




<!-- ========== INHERITED METHODS SUMMARY =========== -->

<br/>

<!-- ========== END INHERITED METHODS SUMMARY =========== -->

<!-- ============ FIELD DETAIL START ========= -->

<!-- ============ FIELD DETAIL END ========== -->


<!-- ========= CONSTRUCTOR DETAIL START ======== -->
<a name="constructor_detail"> </a>
<table border="1" cellpadding="3" cellspacing="0" width="100%">
   <tr class="TableHeadingColor">
      <th colspan=1>
	Constructor Detail
      </th>
   </tr>

</table>

<a name="APE.EventPublisher"> </a>
<h3>APE.EventPublisher</h3>

	<pre><b>APE.EventPublisher</b>(src, type)</pre>
	<ul>
		
		creates an <code>EventPublisher</code> with methods <code>add()</code>,<code>fire</code>, et c.
	</ul>
	
	<!-- PARAMETERS START -->
	
	<ul>
		<b>Parameters:</b>
		
		<ul>
			<code>src</code> 
		</ul>
		
		<ul>
			<code>type</code> 
		</ul>
		
	</ul>
	
	<!-- PARAMETERS END -->

	<pre><b>APE.EventPublisher</b>(src, type)</pre>
	<ul>
		
		creates an <code>EventPublisher</code> with methods <code>add()</code>,<code>fire</code>, et c.
	</ul>
	
	<!-- PARAMETERS START -->
	
	<ul>
		<b>Parameters:</b>
		
		<ul>
			<code>src</code> 
		</ul>
		
		<ul>
			<code>type</code> 
		</ul>
		
	</ul>
	
	<!-- PARAMETERS END -->

<hr/>
<!-- END ADDITIONAL ATTRIBUTES  -->
<!-- ========= CONSTRUCTOR DETAIL END ======== -->


<!-- ============ METHOD DETAIL START ======= -->

<a name="method_detail"> </a> 
<table border="1" cellpadding="3" cellspacing="0" width="100%">
	<tr class="TableHeadingColor">
		<th colspan=1>
			Method Detail
		</th>
	</tr>
</table>


	<a name="add"> </a> <h3>add</h3>
		<pre>EventPublisher&nbsp;<b>add</b>(fp, thisArg)</pre> 
	<ul>
		
		
		
	</ul>
	<!-- METHOD PARAMETERS START -->
	<ul>
		<b>Parameters:</b>
		<ul>
			<code><i>Function</i>&nbsp;fp</code> - the callback function that gets called when src[sEvent] is called. 
		</ul>
		<ul>
			<code><i><a href="Object.html">Object</a></i>&nbsp;thisArg</code> - the context that the function executes in. 
		</ul>
	</ul>
	<!-- METHOD PARAMETERS END -->
	<!-- ADDITIONAL ATTRIBUTES START -->
	<ul>
		<b>Returns:</b>
		<ul>
			<code><i>EventPublisher</i>&nbsp;</code>this; 
		</ul>
	</ul>
	
	<!-- ADDITIONAL ATTRIBUTES  END -->
	<hr>

	<a name="addAfter"> </a> <h3>addAfter</h3>
		<pre>EventPublisher&nbsp;<b>addAfter</b>(fp, thisArg)</pre> 
	<ul>
		
		Adds afterAdvice to the callStack. This fires after the callstack.
		
	</ul>
	<!-- METHOD PARAMETERS START -->
	<ul>
		<b>Parameters:</b>
		<ul>
			<code><i>Function:boolean</i>&nbsp;fp</code> - the callback function that gets called when src[sEvent] is called. function's returnValue of false returns false to the original call. 
		</ul>
		<ul>
			<code><i><a href="Object.html">Object</a></i>&nbsp;thisArg</code> - the context that the function executes in. 
		</ul>
	</ul>
	<!-- METHOD PARAMETERS END -->
	<!-- ADDITIONAL ATTRIBUTES START -->
	<ul>
		<b>Returns:</b>
		<ul>
			<code><i>EventPublisher</i>&nbsp;</code>this; 
		</ul>
	</ul>
	
	<!-- ADDITIONAL ATTRIBUTES  END -->
	<hr>

	<a name="addBefore"> </a> <h3>addBefore</h3>
		<pre>EventPublisher&nbsp;<b>addBefore</b>(fp, thisArg)</pre> 
	<ul>
		
		Adds beforeAdvice to the callStack. This fires before the callstack.
		
	</ul>
	<!-- METHOD PARAMETERS START -->
	<ul>
		<b>Parameters:</b>
		<ul>
			<code><i>Function:boolean</i>&nbsp;fp</code> - the callback function that gets called when src[sEvent] is called. function's returnValue proceed false stops the callstack and returns false to the original call. 
		</ul>
		<ul>
			<code><i><a href="Object.html">Object</a></i>&nbsp;thisArg</code> - the context that the function executes in. 
		</ul>
	</ul>
	<!-- METHOD PARAMETERS END -->
	<!-- ADDITIONAL ATTRIBUTES START -->
	<ul>
		<b>Returns:</b>
		<ul>
			<code><i>EventPublisher</i>&nbsp;</code>this; 
		</ul>
	</ul>
	
	<!-- ADDITIONAL ATTRIBUTES  END -->
	<hr>

	<a name="fire"> </a> <h3>fire</h3>
		<pre><b>fire</b>(payload)</pre> 
	<ul>
		
		Fires the event.
		
	</ul>
	<!-- METHOD PARAMETERS START -->
	<ul>
		<b>Parameters:</b>
		<ul>
			<code>payload</code> 
		</ul>
	</ul>
	<!-- METHOD PARAMETERS END -->
	<!-- ADDITIONAL ATTRIBUTES START -->
	
	
	<!-- ADDITIONAL ATTRIBUTES  END -->
	<hr>

	<a name="getEvent"> </a> <h3>getEvent</h3>
		<pre>EventPublisher&nbsp;<b>getEvent</b>()</pre> 
	<ul>
		
		
		
	</ul>
	<!-- METHOD PARAMETERS START -->
	<ul>
		<b>Parameters:</b>
		<ul>
			<code><i>String</i>&nbsp;</code> - "beforeFire", "afterFire" conveneince. 
		</ul>
	</ul>
	<!-- METHOD PARAMETERS END -->
	<!-- ADDITIONAL ATTRIBUTES START -->
	<ul>
		<b>Returns:</b>
		<ul>
			<code><i>EventPublisher</i>&nbsp;</code>this; 
		</ul>
	</ul>
	
	<!-- ADDITIONAL ATTRIBUTES  END -->
	<hr>

	<a name="remove"> </a> <h3>remove</h3>
		<pre>Function&nbsp;<b>remove</b>(fp, thisArg)</pre> 
	<ul>
		
		Removes fp from callstack.
		
	</ul>
	<!-- METHOD PARAMETERS START -->
	<ul>
		<b>Parameters:</b>
		<ul>
			<code><i>Function:boolean</i>&nbsp;fp</code> - the callback function to remove. 
		</ul>
		<ul>
			<code><i><a href="Object.html">Object</a></i>&nbsp;thisArg</code><a title="optional parameter" class="optional">?</a> - the context that the function executes in. 
		</ul>
	</ul>
	<!-- METHOD PARAMETERS END -->
	<!-- ADDITIONAL ATTRIBUTES START -->
	<ul>
		<b>Returns:</b>
		<ul>
			<code><i>Function</i>&nbsp;</code>the function that was passed in, or null if not found; 
		</ul>
	</ul>
	
	<!-- ADDITIONAL ATTRIBUTES  END -->
	<hr>

	<a name="removeAfter"> </a> <h3>removeAfter</h3>
		<pre>Function&nbsp;<b>removeAfter</b>(fp, thisArg)</pre> 
	<ul>
		
		Removes fp from callstack's afterFire.
		
	</ul>
	<!-- METHOD PARAMETERS START -->
	<ul>
		<b>Parameters:</b>
		<ul>
			<code><i>Function:boolean</i>&nbsp;fp</code> - the callback function to remove. 
		</ul>
		<ul>
			<code><i><a href="Object.html">Object</a></i>&nbsp;thisArg</code><a title="optional parameter" class="optional">?</a> - the context that the function executes in. 
		</ul>
	</ul>
	<!-- METHOD PARAMETERS END -->
	<!-- ADDITIONAL ATTRIBUTES START -->
	<ul>
		<b>Returns:</b>
		<ul>
			<code><i>Function</i>&nbsp;</code>the function that was passed in, or null if not found (uses remove()); 
		</ul>
	</ul>
	
	<!-- ADDITIONAL ATTRIBUTES  END -->
	<hr>

	<a name="removeBefore"> </a> <h3>removeBefore</h3>
		<pre>Function&nbsp;<b>removeBefore</b>(fp, thisArg)</pre> 
	<ul>
		
		Removes fp from callstack's beforeFire.
		
	</ul>
	<!-- METHOD PARAMETERS START -->
	<ul>
		<b>Parameters:</b>
		<ul>
			<code><i>Function:boolean</i>&nbsp;fp</code> - the callback function to remove. 
		</ul>
		<ul>
			<code><i><a href="Object.html">Object</a></i>&nbsp;thisArg</code><a title="optional parameter" class="optional">?</a> - the context that the function executes in. 
		</ul>
	</ul>
	<!-- METHOD PARAMETERS END -->
	<!-- ADDITIONAL ATTRIBUTES START -->
	<ul>
		<b>Returns:</b>
		<ul>
			<code><i>Function</i>&nbsp;</code>the function that was passed in, or null if not found (uses remove()); 
		</ul>
	</ul>
	
	<!-- ADDITIONAL ATTRIBUTES  END -->
	<hr>

	<a name="toString"> </a> <h3>toString</h3>
		<pre><b>toString</b>()</pre> 
	<ul>
		
		helpful debugging info
		
	</ul>
	<!-- METHOD PARAMETERS START -->
	
	<!-- METHOD PARAMETERS END -->
	<!-- ADDITIONAL ATTRIBUTES START -->
	
	
	<!-- ADDITIONAL ATTRIBUTES  END -->
	<hr>


<!-- ============ METHOD DETAIL END ========== -->

<!-- ============ EVENT DETAIL START ======= -->



<!-- ============ EVENT DETAIL END ========== -->
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoctoolkit.org/" target="_parent">JsDoc Toolkit</a> 1.4.0 on Sun Aug 17 2008 17:08:27 GMT-0700 (PDT)</div>
</body>
</html>