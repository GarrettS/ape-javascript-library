(function(){if(typeof APE!=="undefined"){throw Error("APE is already defined.")}self.APE={namespace:K,mixin:N,extend:S,createFactory:R,getById:Q,deferError:D,toString:function(){return"[APE JavaScript Library]"}};function J(){}var A=0,U="instances",O="prototype",B=Object[O],M=B.hasOwnProperty,C=Function[O].toString,V=["toString","valueOf"];function K(Z){var a=Z.split("."),X=self,Y=0,F=a.length,W;for(;Y<F;Y++){W=a[Y];if(!G(X,W)){X[W]=new P((X.qualifiedName||"APE")+"."+W)}X=X[W]}return X}function N(Y,X){var Z,W=0,F;for(Z in X){if(G(X,Z)){Y[Z]=X[Z]}}for(;W<V.length;W++){F=V[W];if(G(X,F)){Y[F]=X[F]}}return Y}function S(F,Y,W){J[O]=Y[O];var X=F[O]=new J;if(typeof W=="object"){APE.mixin(X,W)}X.constructor=F;return F}function D(F){self.setTimeout(function(){throw F},1)}function R(F,X){return{getById:W,getByNode:W};function W(Y){var Z=(typeof Y==="string")?Y:I(Y);if(!(U in this)){if(typeof X==="function"){F[O]=X()}}return E.call(this,Z,F,arguments)}}function E(X,W,F){if(!G(this,U)){this[U]={}}return this[U][X]||(this[U][X]=H(W,F))}function Q(F){return E.call(this,F,this,arguments)}function I(F){var X=F.id,W;if(!X){W=T(this)||"APE";X=F.id=W+"_"+(A++)}return X}function T(F){if(typeof F.name==="string"){return F.name}var W=C.call(F).match(/\s([a-z]+)\(/i);return W&&W[1]||""}function H(Y,W){var X,F=J[O]=Y[O];F.constructor=Y;X=new J;Y.apply(X,W);return X}P[O].toString=function(){return"["+this.qualifiedName+"]"};function P(F){this.qualifiedName=F}function G(X,W){if(W in X){if(M){return M.call(X,W)}var F=X.__proto__;if(F){return !(W in F)||F[W]!==X[W]}return B[W]!==X[W]}return false}if(M&&!M.call(self,"Object")){var L=M;M=B.hasOwnProperty=function(F){return(this===self)?(F in this&&this[F]!==B[F]):L.call(this,F)}}})();