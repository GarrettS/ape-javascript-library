(function(){if(typeof APE!=="undefined"){throw Error("APE is already defined.")}self.APE={namespace:J,mixin:M,extend:Q,createFactory:P,deferError:E,toString:function(){return"[APE JavaScript Library]"}};function I(){}var A=0,S="instances",N="prototype",B=Object[N],L=B.hasOwnProperty,D=I.toString,U=["toString","valueOf"];function J(Y){var Z=Y.split("."),W=self,X=0,F=Z.length,V;for(;X<F;X++){V=Z[X];if(!T(W,V)){W[V]=new O(W,V)}W=W[V]}return W}function M(X,W){var Y,V=0,F;for(Y in W){if(T(W,Y)){X[Y]=W[Y]}}for(;V<U.length;V++){F=U[V];if(T(W,F)){X[F]=W[F]}}return X}function Q(F,X,V){I[N]=X[N];var W=F[N]=new I;if(typeof V=="object"){M(W,V)}W.constructor=F;return F}function E(F){self.setTimeout(function(){throw F},1)}function P(V,W){return{getById:F,getByNode:F};function F(Y){if(typeof Y.id==="string"){Y=arguments[0]=G(V,Y)}var X=this[S];if(!X){X=this[S]={};if(typeof W==="function"){V[N]=W()}}return X[Y]||(X[Y]=H(V,arguments))}}function G(V,F){var X=F.id,W;if(!X){W=R(V)||"APE";X=F.id=W+"_"+(A++)}return X}function R(F){if(typeof F.name==="string"){return F.name}var V=D.call(F).match(/\s([a-z]+)\(/i);return V&&V[1]||""}function H(X,V){var W,F=I[N]=X[N];if(F){F.constructor=X}W=new I;X.apply(W,V);return W}function C(){return"["+this.qualifiedName+"]"}function O(W,F){var V=W.qualifiedName?W.qualifiedName+".":"";this.qualifiedName=V+F;this.toString=C}function T(W,V){if(V in W){if(L){return L.call(W,V)}var F=W.__proto__;if(F){return !(V in F)||F[V]!==W[V]}return B[V]!==W[V]}return false}if(L&&!L.call(self,"Object")){var K=L;L=B.hasOwnProperty=function(F){return(this===self)?(F in this&&this[F]!==B[F]):K.call(this,F)}}})();