(function(){function h(){}function n(a){a=a.split(".");for(var b=self,c=0,d=a.length,e;c<d;c++){e=a[c];j(b,e)||(b[e]=new o((b.qualifiedName||"APE")+"."+e));b=b[e]}return b}function k(a,b){var c,d=0;for(c in b)if(j(b,c))a[c]=b[c];for(;d<l.length;d++){c=l[d];if(j(b,c))a[c]=b[c]}return a}function p(a,b,c){h[f]=b[f];b=a[f]=new h;typeof c=="object"&&k(b,c);return b.constructor=a}function q(a){self.setTimeout(function(){throw a;},1)}function r(a,b){function c(d){if(typeof d.id==="string")d=arguments[0]=
s(a,d);var e=this[m];if(!e){e=this[m]={};if(typeof b==="function")a[f]=b()}return e[d]||(e[d]=t(a,arguments))}return{getById:c,getByNode:c}}function s(a,b){var c=b.id;if(!c){a=u(a)||"APE";c=b.id=a+"_"+v++}return c}function u(a){if(typeof a.name==="string")return a.name;return(a=w.call(a).match(/\s([a-z]+)\(/i))&&a[1]||""}function t(a,b){var c;if(c=h[f]=a[f])c.constructor=a;c=new h;a.apply(c,b);return c}function x(){return"["+this.qualifiedName+"]"}function o(a){this.qualifiedName=a;this.toString=
x}function j(a,b){if(b in a){if(g)return g.call(a,b);var c=a.__proto__;if(c)return!(b in c)||c[b]!==a[b];return i[b]!==a[b]}return false}if(typeof APE!=="undefined")throw Error("APE is already defined.");self.APE={namespace:n,mixin:k,extend:p,createFactory:r,deferError:q,toString:function(){return"[APE JavaScript Library]"}};var v=0,m="instances",f="prototype",i=Object[f],g=i.hasOwnProperty,w=h.toString,l=["toString","valueOf"];if(g&&!g.call(self,"Object")){var y=g;g=i.hasOwnProperty=function(a){return this===
self?a in this&&this[a]!==i[a]:y.call(this,a)}}})();
