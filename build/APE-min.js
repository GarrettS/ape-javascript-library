(function(){if(typeof APE!=="undefined"){throw Error("APE is already defined.")}self.APE={namespace:J,mixin:M,extend:R,createFactory:Q,getById:P,deferError:C,toString:function(){return"[APE JavaScript Library]"}};function I(){}var A=0,T="instances",N="prototype",B=Object[N],L=B.hasOwnProperty,U=["toString","valueOf"];function J(Y){var Z=Y.split("."),W=self,X=0,F=Z.length,V;for(;X<F;X++){V=Z[X];if(!E(W,V)){W[V]=new O((W.qualifiedName||"APE")+"."+V)}W=W[V]}return W}function M(X,W){var Y,V=0,F;for(Y in W){if(E(W,Y)){X[Y]=W[Y]}}for(;V<U.length;V++){F=U[V];if(E(W,F)){X[F]=W[F]}}return X}function R(F,X,V){var W;I[N]=X[N];F[N]=W=new I;if(typeof V=="object"){APE.mixin(W,V)}W.constructor=F;return F}function C(F){window.setTimeout(function(){throw F},1)}function Q(F,W){return{getById:V,getByNode:V};function V(X){var Y=(typeof X==="string")?X:G(X);if(!(T in this)){if(typeof W==="function"){F[N]=W()}}return D.call(this,Y,F,arguments)}}function D(W,V,F){if(!E(this,T)){this[T]={}}return this[T][W]||(this[T][W]=H(V,F))}function P(F){return D.call(this,F,this,arguments)}function G(F){var W=F.id,V;if(!W){V=S(this)||"APE";W=F.id=V+"_"+(A++)}return W}function S(F){if(typeof F.name==="string"){return F.name}var V=Function[N].toString.call(F).match(/\s([a-z]+)\(/i);return V&&V[1]||""}function H(X,V){var W,F=I[N]=X[N];F.constructor=X;W=new I;X.apply(W,V);return W}O[N].toString=function(){return"["+this.qualifiedName+"]"};function O(F){this.qualifiedName=F}function E(W,V){var F;if(V in W){if(L){return L.call(W,V)}F=W.__proto__;if(F){return !(V in F)||F[V]!==W[V]}return B[V]!==W[V]}else{return false}}if(L&&!L.call(self,"Object")){var K=L;L=B.hasOwnProperty=function(F){return(this===self)?(F in this&&this[F]!==B[F]):K.call(this,F)}}})();