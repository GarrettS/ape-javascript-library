(function(){if(typeof APE!=="undefined"){throw Error("APE is already defined.")}self.APE={namespace:I,mixin:L,extend:P,createFactory:O,deferError:E,toString:function(){return"[APE JavaScript Library]"}};function H(){}var A=0,R="instances",M="prototype",B=Object[M],K=B.hasOwnProperty,D=H.toString,T=["toString","valueOf"];function I(X){var Y=X.split("."),V=self,W=0,F=Y.length,U;for(;W<F;W++){U=Y[W];if(!S(V,U)){V[U]=new N(V,U)}V=V[U]}return V}function L(W,V){var X,U=0,F;for(X in V){if(S(V,X)){W[X]=V[X]}}for(;U<T.length;U++){F=T[U];if(S(V,F)){W[F]=V[F]}}return W}function P(F,W,U){H[M]=W[M];var V=F[M]=new H;if(typeof U=="object"){L(V,U)}V.constructor=F;return F}function E(F){self.setTimeout(function(){throw F},1)}function O(U,V){return{getById:F,getByNode:F};function F(Y,W){if(typeof Y.id==="string"){Y=G(U,Y)}var X=this[R];if(!X){X=this[R]={};if(typeof V==="function"){U[M]=V()}}return X[Y]||(X[Y]=new U(Y,W))}}function G(U,F){var W=F.id,V;if(!W){V=Q(U)||"APE";W=F.id=V+"_"+(A++)}return W}function Q(F){if(typeof F.name==="string"){return F.name}var U=D.call(F).match(/\s([a-z]+)\(/i);return U&&U[1]||""}function C(){return"["+this.qualifiedName+"]"}function N(V,F){var U=V.qualifiedName?V.qualifiedName+".":"";this.qualifiedName=U+F;this.toString=C}function S(V,U){if(U in V){if(K){return K.call(V,U)}var F=V.__proto__;if(F){return !(U in F)||F[U]!==V[U]}return B[U]!==V[U]}return false}if(K&&!K.call(self,"Object")){var J=K;K=B.hasOwnProperty=function(F){return(this===self)?(F in this&&this[F]!==B[F]):J.call(this,F)}}})();