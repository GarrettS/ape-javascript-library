(function(){if(typeof APE!=="undefined"){throw Error("APE is already defined.")}var I="instances",J="prototype",B=Object[J],E=B.hasOwnProperty,A=["toString","valueOf"];function O(){}function M(P,F){return N.call(P,F)}function H(S){var T=S.split("."),Q=self,R=0,F=T.length,P;for(;R<F;R++){P=T[R];if(!G(Q,P)){Q[P]=new L(Q,P)}Q=Q[P]}return Q}function N(Q){var R,P=0,F;for(R in Q){if(G(Q,R)){this[R]=Q[R]}}for(;P<A.length;P++){F=A[P];if(G(Q,F)){this[F]=Q[F]}}return this}function D(F,R,P){O[J]=R[J];var Q=F[J]=new O;if(typeof P=="object"){M(Q,P)}Q.constructor=F;return F}function L(Q,F){var P=Q.qualifiedName?Q.qualifiedName+".":"";this.qualifiedName=P+F}L[J]={toString:function(){return"["+this.qualifiedName+"]"},createFactory:function(F,P){return this[F]=new C(F,P)},createCustomFactory:function(F,P){return this[F]=new C(F,P,true)},mixin:N};function C(P,R,T){var Q=0,S;this.name=P;this.getById=this.getByNode=F;if(T){R=R(this)}function F(W,U){if(typeof W.id==="string"){W=W.id||(W.id=P+Q++)}var V=this[I];if(!V){V=this[I]={};S=R(this)}return V[W]||(V[W]=new S(W,U))}}C[J].toString=function(){return this.name};function G(Q,P){if(P in Q){if(E){return E.call(Q,P)}var F=Q.__proto__;if(F){return !(P in F)||F[P]!==Q[P]}return B[P]!==Q[P]}return false}if(E&&!E.call(self,"Object")){var K=E;E=B.hasOwnProperty=function(F){return(this===self)?(F in this&&this[F]!==B[F]):K.call(this,F)}}APE=H("APE").mixin({namespace:H,createSubclass:D,createMixin:M})})();