(function(){if(typeof APE!=="undefined"){throw Error("APE is already defined.")}self.APE={namespace:J,mixin:M,extend:R,createFactory:Q,getById:P,deferError:D,toString:function(){return"[APE JavaScript Library]"}};function I(){}var A=0,T="instances",N="prototype",B=Object[N],L=B.hasOwnProperty,C=Function[N].toString,V=["toString","valueOf"];function J(Z){var a=Z.split("."),X=self,Y=0,F=a.length,W;for(;Y<F;Y++){W=a[Y];if(!U(X,W)){X[W]=new O((X.qualifiedName||"APE")+"."+W)}X=X[W]}return X}function M(Y,X){var Z,W=0,F;for(Z in X){if(U(X,Z)){Y[Z]=X[Z]}}for(;W<V.length;W++){F=V[W];if(U(X,F)){Y[F]=X[F]}}return Y}function R(F,Y,W){I[N]=Y[N];var X=F[N]=new I;if(typeof W=="object"){APE.mixin(X,W)}X.constructor=F;return F}function D(F){self.setTimeout(function(){throw F},1)}function Q(F,X){return{getById:W,getByNode:W};function W(Y){if(typeof Y.id=="string"){arguments[0]=H(F,Y)}if(!(T in this)){if(typeof X==="function"){F[N]=X()}}return E.call(this,F,arguments)}}function E(W,F){var X=F[0];if(!U(this,T)){this[T]={}}return this[T][X]||(this[T][X]=G(W,F))}function P(F){return E.call(this,this,arguments)}function H(W,F){var Y=F.id,X;if(!Y){X=S(W)||"APE";Y=F.id=X+"_"+(A++)}return Y}function S(F){if(typeof F.name==="string"){return F.name}var W=C.call(F).match(/\s([a-z]+)\(/i);return W&&W[1]||""}function G(Y,W){var X,F=I[N]=Y[N];F.constructor=Y;X=new I;Y.apply(X,W);return X}O[N].toString=function(){return"["+this.qualifiedName+"]"};function O(F){this.qualifiedName=F}function U(X,W){if(W in X){if(L){return L.call(X,W)}var F=X.__proto__;if(F){return !(W in F)||F[W]!==X[W]}return B[W]!==X[W]}return false}if(L&&!L.call(self,"Object")){var K=L;L=B.hasOwnProperty=function(F){return(this===self)?(F in this&&this[F]!==B[F]):K.call(this,F)}}})();