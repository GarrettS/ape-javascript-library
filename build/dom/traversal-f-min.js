APE.namespace("APE.dom");(function(){var H=document.documentElement;APE.mixin(APE.dom,{contains:G(),findAncestorWithAttribute:E,findAncestorWithTagName:D,findNextSiblingElement:F,findPreviousSiblingElement:A,getChildElements:C});function G(){if("compareDocumentPosition" in H){return function(J,I){return(J.compareDocumentPosition(I)&16)!==0}}else{if(H.contains){return function(J,I){return J!==I&&J.contains(I)}}}return function(J,I){if(J===I){return false}while(J!=I&&(I=I.parentNode)!=null){}return J===I}}function E(K,N,L){for(var M,J=K.parentNode;J!=null;){M=J.attributes;if(!M){return null}var I=M[N];if(I&&I.specified){if(I.value===L||(L===undefined)){return J}}J=J.parentNode}return null}var B=/^H/.test(H.tagName);function D(K,I){I=(B?I.toUpperCase():I.toLowerCase());for(var J=K.parentNode;J!=null;){if(J.tagName===I){return J}J=J.parentNode}return null}function F(J){for(var I=J.nextSibling;I!=null;I=I.nextSibling){if(I.tagName){return I}}return null}function A(I){for(var J=I.previousSibling;J!=null;J=J.previousSibling){if(J.tagName){return J}}return null}function C(L){var K=0,J=[],M=L.childNodes;for(var I=M.length;K<I;K++){if("tagName" in M[K]){J[J.length]=M[K]}}return J}})();