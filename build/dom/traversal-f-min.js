APE.namespace("APE.dom").mixin(function(){var C=document.documentElement,K="parentNode",E=APE.dom,H=E.IS_XML_DOM?"toLowerCase":"toUpperCase";C=null;return{contains:D,isOrContains:J,findAncestorWithAttribute:A,findAncestorWithTagName:L,findNextSiblingElement:B,findPreviousSiblingElement:G,getChildElements:I};function D(O,M){if(!O){return false}var P="compareDocumentPosition",N=(P in O)?function(S,R){try{return !!(S&&R)&&((S[P](R)&16)!==0)}catch(Q){return false}}:("contains" in O)?function(R,Q){return !!R&&R!==Q&&R.contains(Q)}:function(R,Q){if(!R||!Q||R===Q){return false}while(R&&R!==Q&&(Q=Q[K])!==null){}return R===Q};return(D=E.contains=N)(O,M)}function J(N,M){return N===M||E.contains(N,M)}function A(P,S,Q){for(var M,O,R,N=P[K];N!==null;){R=N.attributes;if(!R){return null}M=R[S];if(M&&M.specified){if(M.value===Q||Q===O){return N}}else{if(N.getAttribute){M=N.getAttribute(S,2);if(M===Q||Q===O&&M!==null){return N}}}N=N[K]}return null}function L(P,M,N){M=M[H]();N=N||null;for(var O=P[K];O&&O!==N;){if(O.tagName===M){return O}O=O[K]}return null}function B(M){return F(M,"nextSibling")}function G(M){return F(M,"previousSibling")}function F(M,N){for(var O=M[N];O!==null;O=O[N]){if(O.nodeType===1&&O.tagName!=="!"){return O}}return null}function I(Q){var P,O,N=[],S=Q.childNodes,M=S.length,R;N.length=M;for(P=O=0;P<M;P++){R=S[P];if(R.nodeType!==1||R.tagName==="!"){continue}N[O++]=R}N.length=O;return N}}());