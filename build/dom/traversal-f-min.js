APE.namespace("APE.dom");
(function(){function k(){if(i in e)return function(a,b,c){return a&&c&&a===b||(a[i](b)&16)!==0};else if("contains"in e)return function(a,b,c){return a!==null&&c?a===b||a.contains(b):a!==b&&a.contains(b)};return function(a,b,c){if(!c&&a===b)return false;for(;a&&a!==b&&(b=b[f])!==null;);return a===b}}function l(a,b,c){var d;for(a=a[f];a!==null;){d=a.attributes;if(!d||!m)return null;if((d=d.getNamedItem(b))&&d.specified)if(d.value===c||c===undefined)return a;a=a[f]}return null}function n(a,b){b=b[o]();
for(a=a[f];a!==null;){if(a.tagName===b)return a;a=a[f]}return null}function p(a){for(a=a.nextSibling;a!==null;a=a.nextSibling)if(a[g]===1)return a;return null}function q(a){for(a=a.previousSibling;a!==null;a=a.previousSibling)if(a[g]===1)return a;return null}function r(a){var b,c=[],d=a.childNodes,j=d.length,h;c.length=j;for(a=b=0;a<j;a++){h=d[a];if(h[g]===1)c[b++]=h}c.length=b;return c}var e=document.documentElement,m="getNamedItem"in e.attributes,g="nodeType",i="compareDocumentPosition",f="parentNode",
o=/^H/.test(e.tagName)?"toUpperCase":"toLowerCase";APE.mixin(APE.dom,{contains:k(),findAncestorWithAttribute:l,findAncestorWithTagName:n,findNextSiblingElement:p,findPreviousSiblingElement:q,getChildElements:r});e=null})();
