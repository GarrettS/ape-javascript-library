(function(){var W=APE.dom,d=this.document,V,c=d.documentElement;if(W.IS_COMPUTED_STYLE_SUPPORTED&&!c.getBoundingClientRect){W.getOffsetCoords=Y;var Z=Math.round,T=Math.max,C=self.parseFloat,E="getComputedStyle",D="defaultView",M=typeof document.createElement("p").scrollLeft=="number",N=c&&c.clientWidth===0,L=/^h/.test(c.tagName)?"table":"TABLE",P,F,a,R,O,K,G,H,A,J,b,X="relative",U="borderTopWidth",B="borderLeftWidth",I=/^(?:r|a)/,Q=/^(?:a|f)/;d=c=null}function Y(f,r,v){var AA=f[W.OWNER_DOCUMENT],y=AA.documentElement,o=AA.body;if(!r){r=AA}if(!v){v={x:0,y:0}}v.x=v.y=0;if(f===r){return v}if(!V){S()}var k=f.offsetLeft,w=f.offsetTop,t=AA[D],j=t[E](f,"")||f.style;if(j.position=="fixed"&&M){v.x=k+y.scrollLeft;v.y=w+y.scrollTop;return v}var n=t[E](o,""),p=!I.test(n.position),h=f,l=f.parentNode,e=f.offsetParent;for(;l&&l!==r;l=l.parentNode){if(l!==o&&l!==y&&M){k-=l.scrollLeft;w-=l.scrollTop}if(l===e){if(l===o&&p){}else{if(!P&&!(l.tagName===L&&O)){var i=t[E](l,"");k+=C(i[B])||0;w+=C(i[U])||0}if(l!==o){k+=e.offsetLeft;w+=e.offsetTop;h=e;e=l.offsetParent}}}}var m=0,u=0,z,q,x=r===AA||r===y,s,g;if(h!=AA){j=t[E](h,"");if(j){g=j.position;z=Q.test(g);q=z||I.test(g)}}if((h===f&&f.offsetParent===o&&!F&&r!==o&&!(p&&R))||(F&&h===f&&!q)||!p&&q&&G&&x){u+=C(n.marginTop)||0;m+=C(n.marginLeft)||0}if(r===o){s=t[E](y,"");if((!p&&((A&&!z)||(J&&z)))||p&&H){u-=C(s.paddingTop)||0;m-=C(s.paddingLeft)||0}if(b){if(!q||q&&!p){u-=C(s.marginTop)||0}m-=C(s.marginLeft)||0}}if(p){if(K||(!z&&!P&&x)){u+=C(n[U]);m+=C(n[B])}}else{if(R){if(x){if(!a){u+=C(n.top)||0;m+=C(n.left)||0;if(z&&P){u+=C(n[U]);m+=C(n[B])}}if(r===AA&&!p&&!A){if(!s){s=t[E](y,"")}u+=C(s.paddingTop)||0;m+=C(s.paddingLeft)||0}}else{if(a){u-=C(n.top);m-=C(n.left)}}if(F&&(!q||r===o)){u-=C(n.marginTop)||0;m-=C(n.marginLeft)||0}}}v.x=Z(k+m);v.y=Z(w+u);return v}function S(){V=true;var t=document,i=t.body;if(!i){return}var e="marginTop",v="position",k="padding",r="static",n="border",j=i.style,w=j.cssText,q="1px solid transparent",f="0",m="1px",o="offsetTop",l=t.documentElement.style,u=l.cssText,h=t.createElement("div"),g=h.style,p=t.createElement(L);j[k]=j[e]=j.top=f;l.position=r;j[n]=q;g.margin=f;g[v]=r;h=i.insertBefore(h,i.firstChild);P=(h[o]===1);j[n]=f;p.innerHTML="<tbody><tr><td>x</td></tr></tbody>";p.style[n]="7px solid";p.cellSpacing=p.cellPadding=f;i.insertBefore(p,i.firstChild);O=p.getElementsByTagName("td")[0].offsetLeft===7;i.removeChild(p);j[e]=m;j[v]=X;F=(h[o]===1);R=i[o]===0;j[e]=f;j.top=m;a=h[o]===1;j.top=f;j[e]=m;j[v]=g[v]=X;G=h[o]===0;g[v]="absolute";j[v]=r;if(h.offsetParent===i){j[n]=q;g.top="2px";K=h[o]===1;j[n]=f;g[v]=X;l[k]=m;j[e]=f;H=h[o]===3;j[v]=X;A=h[o]===3;g[v]="absolute";J=h[o]===3;l[k]=f;l[e]=m;b=h[o]===3}i.removeChild(h);j.cssText=w||"";l.cssText=u||""}})();