APE.namespace("APE.dom");
(function(){function f(a){for(var b=/(^|\s)([a-z]+)/,c=RegExp;b.test(a);)a=a.replace(b,c.$1+c.$2.toUpperCase());return a}APE.dom.StyleSheetAdapter=function(a){var b;if(typeof a==="string"){b=document.getElementById(a);if(!b){b=document.createElement("style");b.type="text/css";if(a)b.id=a;document.getElementsByTagName("head")[0].appendChild(b)}a=b.sheet||b.styleSheet}else a="rules"in a||"cssRules"in a?a:a.sheet||a.styleSheet;this.sheet=a};APE.dom.StyleSheetAdapter.prototype={getRule:function(a){a=
f(a);for(var b=this.sheet.cssRules||this.sheet.rules,c=0,d=b.length;c<d;c++)for(var g=b[c].selectorText.split(/\s*,\s*/),e=0;e<g.length;e++)if(f(g[e])===a)return b[c];return null},getRules:function(){return this.sheet.cssRules||this.sheet.rules},addRule:function(a,b){b||(b=";");var c,d=this.getRules();if(this.sheet.insertRule){this.sheet.insertRule(a+"{"+b+"}",d.length);d=this.sheet.cssRules;c=d[d.length-1]}else if(this.sheet.addRule){this.sheet.addRule(a,b);c=d[d.length-1];if(c.style.cssText)c.style.cssText=
b}return c}}})();
