APE.namespace("APE.dom");(function(){APE.dom.StyleSheetAdapter=function(D){var B,C;if(typeof D==="string"){B=document.getElementById(D);if(!B){B=document.createElement("style");B.type="text/css";if(D){B.id=D}document.getElementsByTagName("head")[0].appendChild(B)}C=B.sheet||B.styleSheet}else{if("rules" in D||"cssRules" in D){C=D}else{C=D.sheet||D.styleSheet}}this.sheet=C};APE.dom.StyleSheetAdapter.prototype={getRule:function(G){G=A(G);var E=this.sheet.cssRules||this.sheet.rules;for(var D=0,B=E.length;D<B;D++){var F=E[D].selectorText.split(/\s*,\s*/);for(var C=0;C<F.length;C++){if(A(F[C])===G){return E[D]}}}return null},getRules:function(){return this.sheet.cssRules||this.sheet.rules},addRule:function(C,B){if(!B){B=";"}var D,E=this.getRules();if(this.sheet.insertRule){this.sheet.insertRule(C+"{"+B+"}",E.length);E=this.sheet.cssRules;D=E[E.length-1]}else{if(this.sheet.addRule){this.sheet.addRule(C,B);D=E[E.length-1];if(D.style.cssText){D.style.cssText=B}}}return D}};function A(C){var D=/(^|\s)([a-z]+)/,B=RegExp;while(D.test(C)){C=C.replace(D,B.$1+B.$2.toUpperCase())}return C}})();