APE.namespace("APE.dom");(function(){var Q=APE.dom;APE.mixin(Q,{getStyle:D,setOpacity:S});var R="getComputedStyle",E=Q.IS_COMPUTED_STYLE,P="currentStyle",O="opacity",F="style",G="px",J="filter",I="alpha("+O+"=",M=/^(?:margin|(border)(Width|Color|Style)|padding)$/,N=/\Wopacity\s*=\s*([\d]+)/i,T="cssFloat",L=T in document.documentElement[F]?T:"styleFloat",C=["Top","Right","Bottom","Left"];function K(V){var X,W=V[J];if(!N.test(W)){return 1}X=N.exec(W);return X[1]/100}function S(Y,V){var X=Y[F],W;if(O in X){X[O]=V}else{if(J in X){X[J]=I+(V*100)+")";W=Y[P];if(W&&!W.hasLayout){X.zoom=1}}}}function D(W,V){var d="",a,Z,X,Y,b,c=W[Q.OWNER_DOCUMENT];if(/float/.test(V)){V=L}if(E){a=c.defaultView[R](W,"");if(!(V in a)){return""}d=a[V];if(d===""){d=U(a,V).join(" ")}}else{a=W[P];if(V===O){d=K(a)}else{d=a[V];if(d==="auto"){d=A(W,V)}else{if(!(V in a)){return""}}}Z=H.exec(d);if(Z){X=d.split(" ");X[0]=B(W,Z[0]);for(Y=1,b=X.length;Y<b;Y++){Z=H.exec(X[Y]);X[Y]=B(W,Z[0])}d=X.join(" ")}}return d}function A(Z,b){var Y=Z[F],X,V,W,a=Z[Q.OWNER_DOCUMENT];if("pixelWidth" in Y&&/width|height|top|left/.test(b)){V="pixel"+(b.charAt(0).toUpperCase())+b.substring(1);X=Y[V];if(X===0){if(b==="width"){W=parseFloat(D(Z,"borderRightWidth"))||0;paddingWidth=parseFloat(D(Z,"paddingLeft"))||0+parseFloat(D(Z,"paddingRight"))||0;return Z.offsetWidth-Z.clientLeft-W-paddingWidth+G}else{if(b==="height"){W=parseFloat(D(Z,"borderBottomWidth"))||0;paddingWidth=parseFloat(D(Z,"paddingTop"))||0+parseFloat(D(Z,"paddingBottom"))||0;return Z.offsetHeight-Z.clientTop-W+G}}}return Y[V]+G}if(b=="margin"&&Z[P].position!="absolute"&&a.compatMode!=="BackCompat"){X=parseFloat(D(Z.parentNode,"width"))-Z.offsetWidth;if(X==0){return"0px"}X="0px "+X;return X+" "+X}}function U(b,W){var X=M.exec(W),Z,f,a,d,e,c=true,V,Y=1;if(X&&X[0]){V=C;Z=X[1]||X[0];f=X[2]||""}else{return[""]}a=b[Z+V[0]+f];e=[a];while(Y<4){d=b[Z+V[Y]+f];c=c&&d==a;a=d;e[Y++]=d}if(c){return[a]}return e}var H=/(-?\d+|(?:-?\d*\.\d+))(?:em|ex|pt|pc|in|cm|mm\s*)/;function B(Z,a){if(Z.runtimeStyle){if(parseFloat(a)===0){return"0px"}var Y=Z[F],X=Y.left,W=Z.runtimeStyle,V=W.left;W.left=Z[P].left;Y.left=(a||0);a=Y.pixelLeft+G;Y.left=X;W.left=V;return a}}})();