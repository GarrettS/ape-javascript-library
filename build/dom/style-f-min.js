APE.namespace("APE.dom");(function(){var U=/^(?:margin|(border)(Width)|padding)$/,E=/^[a-zA-Z]*[bB]orderRadius$/,W=APE.dom;APE.mixin(W,{getStyle:F,setOpacity:Z,getFilterOpacity:L,multiLengthPropExp:/^(?:margin|(border)(Width)|padding)$/,borderRadiusExp:/^[a-zA-Z]*[bB]orderRadius$/,tryGetShorthandValues:a,getCurrentStyleValueFromAuto:A,getCurrentStyleClipValues:G});var K=document.defaultView,Y="getComputedStyle",H=W.IS_COMPUTED_STYLE,N="currentStyle",X="style";K=null;function L(d){var f=d.filters;if(!f){return""}try{return f["DXImageTransform.Microsoft.Alpha"].opacity/100}catch(g){try{return f("alpha").opacity/100}catch(g){return 1}}}function Z(g,d){var f=g[X],e;if("opacity" in f){f.opacity=d}else{if("filter" in f){e=g[N];f.filter="alpha(opacity="+(d*100)+")";if(e&&("hasLayout" in e)&&!e.hasLayout){X.zoom=1}}}}function F(e,d){var n="",k,h,f,g,l,m=e.ownerDocument,j=m.defaultView;if(H){k=j[Y](e,"");if(d=="borderRadius"&&!("borderRadius" in k)){d="MozBorderRadius" in k?"MozBorderRadius":"WebkitBorderRadius" in k?"WebkitBorderRadius":""}if(!(d in k)){return""}n=k[d];if(n===""){n=(a(k,d)).join(" ")}}else{if(N in e){k=e[N];if(d=="opacity"&&!("opacity" in e[N])){n=L(e)}else{if(d=="cssFloat"){d="styleFloat"}n=k[d];if(d=="clip"&&!n&&("clipTop" in k)){n=G(e,k)}else{if(n=="auto"){n=A(e,d)}else{if(!(d in k)){return""}}}}h=I.exec(n);if(h){f=n.split(" ");f[0]=B(e,h);for(g=1,l=f.length;g<l;g++){h=I.exec(f[g]);f[g]=B(e,h)}n=f.join(" ")}}}return n}function G(g,f){var d=[],e=0,h;for(;e<4;e++){h=C[e];clipValue=f["clip"+h];if(clipValue=="auto"){clipValue=(h=="Left"||h=="Top"?"0px":h=="Right"?g.offsetWidth+O:g.offsetHeight+O)}d.push(clipValue)}return{top:d[0],right:d[1],bottom:d[2],left:d[3],toString:function(){return"rect("+d.join(" ")+")"}}}var M=document.documentElement[X],P="cssFloat" in M?"cssFloat":"styleFloat",C=["Top","Right","Bottom","Left"],T=["Topright","Bottomright","Bottomleft","Topleft"];M=null;function A(h,j){var g=h[X],f,e,i=h.ownerDocument;if("pixelWidth" in g&&V.test(j)){var d="pixel"+(j.charAt(0).toUpperCase())+j.substring(1);f=g[d];if(f===0){if(j=="width"){e=parseFloat(F(h,"borderRightWidth"))||0;paddingWidth=parseFloat(F(h,"paddingLeft"))||0+parseFloat(F(h,"paddingRight"))||0;return h.offsetWidth-h.clientLeft-e-paddingWidth+"px"}else{if(j=="height"){e=parseFloat(F(h,"borderBottomWidth"))||0;paddingWidth=parseFloat(F(h,"paddingTop"))||0+parseFloat(F(h,"paddingBottom"))||0;return h.offsetHeight-h.clientTop-e+"px"}}}return g[d]+"px"}if(j=="margin"&&h[N].position!="absolute"&&i.compatMode!="BackCompat"){f=parseFloat(F(h.parentNode,"width"))-h.offsetWidth;if(f==0){return"0px"}f="0px "+f;return f+" "+f}}function a(k,e){var f=U.exec(e),h,o,j,m,n,l=true,d,g=1;if(f&&f[0]){d=C;h=f[1]||f[0];o=f[2]||""}else{if(E.test(e)){d=T;h=E.exec(e)[0];o=""}else{return[""]}}j=k[h+d[0]+o];n=[j];while(g<4){m=k[h+d[g]+o];l=l&&m==j;j=m;n[g++]=m}if(l){return[j]}return n}var Q=/\dpx$/,J=/^thi|med/,I=/(-?\d+|(?:-?\d*\.\d+))(?:em|ex|pt|pc|in|cm|mm\s*)/,S=/(-?\d+|(?:-?\d*\.\d+))(px|em|ex|pt|pc|in|cm|mm|%)\s*/,b=/loat$/,D=/(?:width|height|padding|fontSize)$/ig,R=/^width|height|margin|padding|textIndent/,c=/^(?:font|text|letter)/,V=/width|height|top|left/,O="px";function B(h,i){if(h.runtimeStyle){var j=i[0];if(parseFloat(j)==0){return"0px"}var g=h[X],f=g.left,e=h.runtimeStyle,d=e.left;e.left=h[N].left;g.left=(j||0);j=g.pixelLeft+O;g.left=f;e.left=d;return j}}})();