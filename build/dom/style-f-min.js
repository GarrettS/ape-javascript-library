APE.namespace("APE.dom");(function(){var Y=APE.dom;APE.mixin(Y,{getStyle:F,setOpacity:a});var Z="getComputedStyle",G=Y.IS_COMPUTED_STYLE,X="currentStyle",W="opacity",H="style",I="px",L="filter",K="alpha("+W+"=",T=/^(?:margin|(border)(Width|Color|Style)|padding)$/,E=/^[a-zA-Z]*[bB]orderRadius$/,U=/opacity\s*=\s*([\d]+)/i;function M(c){var e,d=c[L];if(!U.test(d)){return 1}e=U.exec(d);return e[1]/100}function a(f,c){var e=f[H],d;if(W in e){e[W]=c}else{if(L in e){e[L]=K+(c*100)+")";d=f[X];if(d&&!d.hasLayout){e.zoom=1}}}}function F(d,c){var l="",h,g,e,f,j,k=d.ownerDocument;if(/float/.test(c)){c=P}if(G){h=k.defaultView[Z](d,"");if(E.test(c)){c=S}if(!(c in h)){return""}l=h[c];if(l===""){l=(b(h,c)).join(" ")}}else{h=d[X];if(c===W){l=M(h)}else{l=h[c];if(l==="auto"){l=A(d,c)}else{if(!(c in h)){return""}}}g=J.exec(l);if(g){e=l.split(" ");e[0]=B(d,g);for(f=1,j=e.length;f<j;f++){g=J.exec(e[f]);e[f]=B(d,g)}l=e.join(" ")}}return l}var N=document.documentElement[H],P="cssFloat" in N?"cssFloat":"styleFloat",V="orderRadius",O="b"+V,Q="MozB"+V,D="WebkitB"+V,S=O in N?O:Q in N?Q:D,C=["Top","Right","Bottom","Left"],R=["Topright","Bottomright","Bottomleft","Topleft"];N=O=Q=D=V=null;function A(g,i){var f=g[H],e,d,h=g.ownerDocument;if("pixelWidth" in f&&/width|height|top|left/.test(i)){var c="pixel"+(i.charAt(0).toUpperCase())+i.substring(1);e=f[c];if(e===0){if(i==="width"){d=parseFloat(F(g,"borderRightWidth"))||0;paddingWidth=parseFloat(F(g,"paddingLeft"))||0+parseFloat(F(g,"paddingRight"))||0;return g.offsetWidth-g.clientLeft-d-paddingWidth+I}else{if(i==="height"){d=parseFloat(F(g,"borderBottomWidth"))||0;paddingWidth=parseFloat(F(g,"paddingTop"))||0+parseFloat(F(g,"paddingBottom"))||0;return g.offsetHeight-g.clientTop-d+I}}}return f[c]+I}if(i=="margin"&&g[X].position!="absolute"&&h.compatMode!=="BackCompat"){e=parseFloat(F(g.parentNode,"width"))-g.offsetWidth;if(e==0){return"0px"}e="0px "+e;return e+" "+e}}function b(j,d){var e=T.exec(d),g,n,h,l,m,k=true,c,f=1;if(e&&e[0]){c=C;g=e[1]||e[0];n=e[2]||""}else{if(E.test(d)){c=R;g=E.exec(d)[0];n=""}else{return[""]}}h=j[g+c[0]+n];m=[h];while(f<4){l=j[g+c[f]+n];k=k&&l==h;h=l;m[f++]=l}if(k){return[h]}return m}var J=/(-?\d+|(?:-?\d*\.\d+))(?:em|ex|pt|pc|in|cm|mm\s*)/;function B(g,h){if(g.runtimeStyle){var i=h[0];if(parseFloat(i)===0){return"0px"}var f=g[H],e=f.left,d=g.runtimeStyle,c=d.left;d.left=g[X].left;f.left=(i||0);i=f.pixelLeft+I;f.left=e;d.left=c;return i}}})();