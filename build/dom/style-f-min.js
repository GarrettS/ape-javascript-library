APE.namespace("APE.dom");(function(){var O=/^(?:margin|(border)(Width|Color|Style)|padding)$/,D=/^[a-zA-Z]*[bB]orderRadius$/,Q=APE.dom;APE.mixin(Q,{getStyle:E,setOpacity:T,getFilterOpacity:I,multiLengthPropExp:O,borderRadiusExp:D,tryGetShorthandValues:U,getCurrentStyleValueFromAuto:A,convertNonPixelToPixel:B});var H=document.defaultView,S="getComputedStyle",F=Q.IS_COMPUTED_STYLE,K="currentStyle",R="style";H=null;function I(X){var W,Y=X.filters;if(!Y||!("item" in Y)){return""}try{W=Y.item("alpha")}catch(Z){try{W=Y.item("DXImageTransform.Microsoft.Alpha")}catch(V){}}return W&&W.opacity/100||1}function T(Y,V){var X=Y[R],W;if("opacity" in X){X.opacity=V}else{if("filter" in X){W=Y[K];X.filter="alpha(opacity="+(V*100)+")";if(W&&("hasLayout" in W)&&!W.hasLayout){R.zoom=1}}}}function E(W,V){var e="",b,Z,X,Y,c,d=W.ownerDocument,a=d.defaultView;if(F){b=a[S](W,"");if(V=="borderRadius"&&!("borderRadius" in b)){V="MozBorderRadius" in b?"MozBorderRadius":"WebkitBorderRadius" in b?"WebkitBorderRadius":""}if(!(V in b)){return""}e=b[V];if(e===""){e=(U(b,V)).join(" ")}}else{b=W[K];if(V=="opacity"&&!("opacity" in W[K])){e=I(W)}else{if(V=="cssFloat"){V="styleFloat"}e=b[V];if(e=="auto"){e=A(W,V)}else{if(!(V in b)){return""}}}Z=G.exec(e);if(Z){X=e.split(" ");X[0]=B(W,Z);for(Y=1,c=X.length;Y<c;Y++){Z=G.exec(X[Y]);X[Y]=B(W,Z)}e=X.join(" ")}}return e}var J=document.documentElement[R],M="cssFloat" in J?"cssFloat":"styleFloat",C=["Top","Right","Bottom","Left"],N=["Topright","Bottomright","Bottomleft","Topleft"];J=null;function A(Z,b){var Y=Z[R],X,W,a=Z.ownerDocument;if("pixelWidth" in Y&&P.test(b)){var V="pixel"+(b.charAt(0).toUpperCase())+b.substring(1);X=Y[V];if(X===0){if(b=="width"){W=parseFloat(E(Z,"borderRightWidth"))||0;paddingWidth=parseFloat(E(Z,"paddingLeft"))||0+parseFloat(E(Z,"paddingRight"))||0;return Z.offsetWidth-Z.clientLeft-W-paddingWidth+L}else{if(b=="height"){W=parseFloat(E(Z,"borderBottomWidth"))||0;paddingWidth=parseFloat(E(Z,"paddingTop"))||0+parseFloat(E(Z,"paddingBottom"))||0;return Z.offsetHeight-Z.clientTop-W+L}}}return Y[V]+L}if(b=="margin"&&Z[K].position!="absolute"&&a.compatMode!="BackCompat"){X=parseFloat(E(Z.parentNode,"width"))-Z.offsetWidth;if(X==0){return"0px"}X="0px "+X;return X+" "+X}}function U(b,W){var X=O.exec(W),Z,f,a,d,e,c=true,V,Y=1;if(X&&X[0]){V=C;Z=X[1]||X[0];f=X[2]||""}else{if(D.test(W)){V=N;Z=D.exec(W)[0];f=""}else{return[""]}}a=b[Z+V[0]+f];e=[a];while(Y<4){d=b[Z+V[Y]+f];c=c&&d==a;a=d;e[Y++]=d}if(c){return[a]}return e}var G=/(-?\d+|(?:-?\d*\.\d+))(?:em|ex|pt|pc|in|cm|mm\s*)/,P=/width|height|top|left/,L="px";function B(Z,a){if(Z.runtimeStyle){var b=a[0];if(parseFloat(b)==0){return"0px"}var Y=Z[R],X=Y.left,W=Z.runtimeStyle,V=W.left;W.left=Z[K].left;Y.left=(b||0);b=Y.pixelLeft+L;Y.left=X;W.left=V;return b}}})();