APE.namespace("APE.dom");(function(){var W=APE.dom;APE.mixin(W,{getStyle:F,setOpacity:Y});var X="getComputedStyle",G=W.IS_COMPUTED_STYLE,U="currentStyle",T="opacity",H="style",I="px",K="alpha("+T+"=",S=/^(?:margin|(border)(Width|Color|Style)|padding)$/,E=/^[a-zA-Z]*[bB]orderRadius$/;function L(b){if(!a){return""}var e=/opacity\s*=\s*(\d+)/i.exec(b[H].filter),c;return e&&(c=e[1])?c/100:1}function Y(f,c){var e=f[H],d,b="hasLayout";if(T in e){e[T]=c}else{if(a){d=f[U];e.filter=K+(c*100)+")";if(d&&!d[b]){e.zoom=1}}}}function F(c,b){var k="",g,f,d,e,h,j=c.ownerDocument;if(/float/.test(b)){b=O}if(G){g=j.defaultView[X](c,"");if(E.test(b)){b=R}if(!(b in g)){return""}k=g[b];if(k===""){k=(Z(g,b)).join(" ")}}else{g=c[U];if(b===T){k=L(c)}else{k=g[b];if(k==="auto"){k=A(c,b)}else{if(!(b in g)){return""}}}f=J.exec(k);if(f){d=k.split(" ");d[0]=B(c,f);for(e=1,h=d.length;e<h;e++){f=J.exec(d[e]);d[e]=B(c,f)}k=d.join(" ")}}return k}var M=document.documentElement[H],O="cssFloat" in M?"cssFloat":"styleFloat",a="filter" in M,V="orderRadius",N="b"+V,P="MozB"+V,D="WebkitB"+V,R=N in M?N:P in M?P:D,C=["Top","Right","Bottom","Left"],Q=["Topright","Bottomright","Bottomleft","Topleft"];M=N=P=D=V=null;function A(f,h){var e=f[H],d,c,g=f.ownerDocument;if("pixelWidth" in e&&/width|height|top|left/.test(h)){var b="pixel"+(h.charAt(0).toUpperCase())+h.substring(1);d=e[b];if(d===0){if(h==="width"){c=parseFloat(F(f,"borderRightWidth"))||0;paddingWidth=parseFloat(F(f,"paddingLeft"))||0+parseFloat(F(f,"paddingRight"))||0;return f.offsetWidth-f.clientLeft-c-paddingWidth+I}else{if(h==="height"){c=parseFloat(F(f,"borderBottomWidth"))||0;paddingWidth=parseFloat(F(f,"paddingTop"))||0+parseFloat(F(f,"paddingBottom"))||0;return f.offsetHeight-f.clientTop-c+I}}}return e[b]+I}if(h=="margin"&&f[U].position!="absolute"&&g.compatMode!=="BackCompat"){d=parseFloat(F(f.parentNode,"width"))-f.offsetWidth;if(d==0){return"0px"}d="0px "+d;return d+" "+d}}function Z(h,c){var d=S.exec(c),f,m,g,k,l,j=true,b,e=1;if(d&&d[0]){b=C;f=d[1]||d[0];m=d[2]||""}else{if(E.test(c)){b=Q;f=E.exec(c)[0];m=""}else{return[""]}}g=h[f+b[0]+m];l=[g];while(e<4){k=h[f+b[e]+m];j=j&&k==g;g=k;l[e++]=k}if(j){return[g]}return l}var J=/(-?\d+|(?:-?\d*\.\d+))(?:em|ex|pt|pc|in|cm|mm\s*)/;function B(f,g){if(f.runtimeStyle){var h=g[0];if(parseFloat(h)===0){return"0px"}var e=f[H],d=e.left,c=f.runtimeStyle,b=c.left;c.left=f[U].left;e.left=(h||0);h=e.pixelLeft+I;e.left=d;c.left=b;return h}}})();