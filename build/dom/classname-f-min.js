APE.namespace("APE.dom").mixin(function(){var F="className",A={};return{hasToken:D,removeClass:H,addClass:E,getElementsByClassName:I,findAncestorWithClass:G};function D(K,J){return B(J,"").test(K)}function H(K,J){var L=K[F];if(!L){return}if(L===J){K[F]="";return}K[F]=C(L.replace(B(J,"g")," "))}function E(K,J){if(!K[F]){K[F]=J}if(!B(J).test(K[F])){K[F]+=" "+J}}function B(K,J){var L=K+"$"+J;return(A[L]||(A[L]=RegExp("(?:^|\\s)"+K+"(?:$|\\s)",J)))}function I(K,L,R){if(!R){return[]}L=L||"*";if(K.getElementsByClassName&&(L==="*")){return K.getElementsByClassName(R)}var M=B(R,""),O=K.getElementsByTagName(L),Q=[],P=Q.length=O.length,J=0,N;for(N=0;N<P;N++){if(M.test(O[N][F])){Q[J++]=O[N]}}Q.length=J;return Q}function G(M,J,K){if(M==null||M===K){return null}var N=B(J,""),L;for(L=M.parentNode;L!=K;){if(N.test(L[F])){return L}L=L.parentNode}return null}function C(J){return J.replace(/^\s+|\s+$/g,"").replace(/\s\s+/g," ")}}());