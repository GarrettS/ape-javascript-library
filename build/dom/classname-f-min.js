APE.namespace("APE.dom").mixin(function(){var H="className",A={};return{hasToken:D,removeClass:G,addClass:E,getElementsByClassName:I,findAncestorWithClass:F};function D(K,J){return B(J,"").test(K)}function G(K,J){var L=K[H];if(!L){return}K[H]=L===J?"":C(L.replace(B(J,"g")," "))}function E(K,J){if(!K[H]){K[H]=J}else{if(!B(J).test(K[H])){K[H]+=" "+J}}}function B(K,J){var L=K+"$"+J;return A[L]||(A[L]=RegExp("(?:^|\\s)"+K+"(?:$|\\s)",J))}function I(K,L,R){if(!R){return[]}L=L||"*";if(K.getElementsByClassName&&(L==="*")){return K.getElementsByClassName(R)}var M=B(R,""),O=K.getElementsByTagName(L),Q=[],P=Q.length=O.length,J=0,N;for(N=0;N<P;N++){if(M.test(O[N][H])){Q[J++]=O[N]}}Q.length=J;return Q}function F(M,J,K){if(M==null||M===K){return null}var N=B(J,""),L;for(L=M.parentNode;L!=K;){if(N.test(L[H])){return L}L=L.parentNode}return null}function C(J){return J.replace(/^\s+|\s+$/g,"").replace(/\s\s+/g," ")}}());