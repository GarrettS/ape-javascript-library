APE.namespace("APE.dom");
(function(){function i(a,b){return e(b,"").test(a)}function j(a,b){var c=a[d];if(c)a[d]=c===b?"":k(c.replace(e(b,"g")," "))}function l(a,b){a[d]||(a[d]=b);e(b).test(a[d])||(a[d]+=" "+b)}function e(a,b){var c=a+"$"+b;return g[c]||(g[c]=RegExp("(?:^|\\s)"+a+"(?:$|\\s)",b))}function m(a,b,c){if(!c)return[];b=b||"*";if(a.getElementsByClassName&&b==="*")return a.getElementsByClassName(c);c=e(c,"");a=a.getElementsByTagName(b);b=[];var n=b.length=a.length,h=0,f;for(f=0;f<n;f++)if(c.test(a[f][d]))b[h++]=a[f];
b.length=h;return b}function o(a,b,c){if(a==null||a===c)return null;b=e(b,"");for(a=a.parentNode;a!=c;){if(b.test(a[d]))return a;a=a.parentNode}return null}function k(a){return a.replace(p,"").replace(q," ")}APE.mixin(APE.dom,{hasToken:i,removeClass:j,addClass:l,getElementsByClassName:m,findAncestorWithClass:o});var d="className",g={},p=/^\s+|\s+$/g,q=/\s\s+/g})();
