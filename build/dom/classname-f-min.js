APE.namespace("APE.dom");
(function(){function j(a,b){return e(b,"").test(a)}function k(a,b){var c=a[d];if(c)a[d]=c===b?"":l(c.replace(e(b,"g")," "))}function m(a,b){a[d]||(a[d]=b);e(b).test(a[d])||(a[d]+=" "+b)}function e(a,b){var c=a+"$"+b;return h[c]||(h[c]=RegExp("(?:^|\\s)"+a+"(?:$|\\s)",b))}function n(a,b,c){if(!c)return[];b=b||"*";if(a.getElementsByClassName&&b==="*")return a.getElementsByClassName(c);c=e(c,"");a=a.getElementsByTagName(b);b=a.length;var i=0,f,g=Array(b);for(f=0;f<b;f++)if(c.test(a[f][d]))g[i++]=a[f];
g.length=i;return g}function o(a,b,c){if(a==null||a===c)return null;b=e(b,"");for(a=a.parentNode;a!=c;){if(b.test(a[d]))return a;a=a.parentNode}return null}function l(a){return a.replace(p,"").replace(q," ")}APE.mixin(APE.dom,{hasToken:j,removeClass:k,addClass:m,getElementsByClassName:n,findAncestorWithClass:o});var d="className",h={},p=/^\s+|\s+$/g,q=/\s\s+/g})();
