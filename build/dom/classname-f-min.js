APE.namespace("APE.dom").mixin(function(){var K="className",A,D,E=APE.dom,B,C,M=document.documentElement.classList!=D;if(!M){A={};B=function(O,N){var P=O+"$"+N;return A[P]||(A[P]=RegExp("(?:^|\\s)"+O+"(?:$|\\s)",N))};C=function(N){return N.replace(/^\s+|\s+$/g,"").replace(/\s\s+/g," ")}}return{hasClass:F,removeClass:J,addClass:G,toggleClass:L,getElementsByClassName:I,findAncestorWithClass:H};function F(O,N){return(E.hasClass=M?function(Q,P){return Q.classList.contains(P)}:function(Q,P){return B(P,"").test(Q.className)})(O,N)}function L(O,N){(F(O,N)?J:G)(O,N)}function J(O,N){(E.removeClass=M?function(Q,P){Q.classList.remove(P)}:function(Q,P){var R=Q[K];if(!R){return}Q[K]=R===P?"":C(R.replace(B(P,"g")," "))})(O,N)}function G(O,N){(E.addClass=M?function(Q,P){return Q.classList.add(P)}:function(Q,P){if(!Q[K]){Q[K]=P}else{if(!B(P).test(Q[K])){Q[K]+=" "+P}}})(O,N)}function I(O,P,V){if(!V){return[]}P=P||"*";if(O.getElementsByClassName&&(P==="*")){return O.getElementsByClassName(V)}var Q=B(V,""),S=O.getElementsByTagName(P),U=[],T=U.length=S.length,N=0,R;for(R=0;R<T;R++){if(Q.test(S[R][K])){U[N++]=S[R]}}U.length=N;return U}function H(Q,N,O){if(Q==null||Q===O){return null}for(var P=Q.parentNode;P&&P!=O&&P.className;){if(F(P,N)){return P}P=P.parentNode}return null}}());