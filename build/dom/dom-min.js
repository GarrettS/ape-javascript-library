APE.namespace("APE.dom");(function(){var u=APE.dom,A="ownerDocument",n=document,v=n.documentElement;A=v&&typeof v[A]!=="undefined"?A:"document";n=n.defaultView;u.OWNER_DOCUMENT=A;u.IS_COMPUTED_STYLE=typeof n!="undefined"&&"getComputedStyle"in n})();
(function(){function u(q){q=q||window;var o;o="pageXOffset"in q?function(i){i=i||window;return{left:i.pageXOffset,top:i.pageYOffset}}:function(i){i=i||window;i=i.document[v?"body":n];return{left:i.scrollLeft,top:i.scrollTop}};o=(this.getScrollOffsets=o)(q);q=null;return o}function A(q){function o(a){a=(a||window)[i][j];return{width:a[x],height:a[e]}}q=q||window;var i="document",j=i,s=q[i],p="client",x,e;if(typeof s.clientWidth=="number")i="window";else if(v){i=n;j="body"}else if(s[n].clientHeight>
0)j=n;x=p+"Width";e=p+"Height";r=(this.getViewportDimensions=o)(q);q=s=null;return r}APE.mixin(APE.dom,{getScrollOffsets:u,getViewportDimensions:A});var n="documentElement",v=document[n].clientWidth===0})();
(function(){function u(h,f,t){var w=h[o.OWNER_DOCUMENT],H=w.documentElement,B=w.body;f||(f=w);t||(t={x:0,y:0});t.x=t.y=0;if(h===f)return t;if(aa in h){var E=y?B:H,l=h[aa]();h=l.left+e(H.scrollLeft,B.scrollLeft);var I=l.top+e(H.scrollTop,B.scrollTop),C=E.clientTop;E=E.clientLeft;if(N){h-=E;I-=C}if(f!==w){l=u(f,null);h-=l.x;I-=l.y;if(N)if(y&&f===B){h-=E;I-=C}else if(f!==w&&f!==H&&f!==B){h-=f.clientLeft;I-=f.clientTop}}if(y&&X&&f!=w&&f!==B){f=B.currentStyle;h+=a(f.marginLeft)||0+a(f.left)||0;I+=a(f.marginTop)||
0+a(f.top)||0}t.x=h;t.y=I;return t}else if(ca){s||A();I=h.offsetLeft;E=h.offsetTop;l=w[F];var L=l[c](h,"")||h.style;if(L.position=="fixed"&&i){t.x=I+H.scrollLeft;t.y=E+H.scrollTop;return t}C=l[c](B,"");for(var J=!ba.test(C.position),G=h,m=h.parentNode,D=h.offsetParent;m&&m!==f;m=m.parentNode){if(m!==B&&m!==H&&i){I-=m.scrollLeft;E-=m.scrollTop}if(m===D)if(!(m===B&&J)){if(!U&&!(m.tagName===O&&b)){var z=l[c](m,"");I+=a(z[Z])||0;E+=a(z[$])||0}if(m!==B){I+=D.offsetLeft;E+=D.offsetTop;G=D;D=m.offsetParent}}}D=
m=0;var M,P;z=f===w||f===H;var Q;if(G!=w)if(L=l[c](G,"")){P=L.position;P=(M=da.test(P))||ba.test(P)}if(G===h&&h.offsetParent===B&&!S&&f!==B&&!(J&&g)||S&&G===h&&!P||!J&&P&&K&&z){D+=a(C.marginTop)||0;m+=a(C.marginLeft)||0}if(f===B){Q=l[c](H,"");if(!J&&(T&&!M||V&&M)||J&&R){D-=a(Q.paddingTop)||0;m-=a(Q.paddingLeft)||0}if(W){if(!P||P&&!J)D-=a(Q.marginTop)||0;m-=a(Q.marginLeft)||0}}if(J){if(k||!M&&!U&&z){D+=a(C[$]);m+=a(C[Z])}}else if(g){if(z){if(!d){D+=a(C.top)||0;m+=a(C.left)||0;if(M&&U){D+=a(C[$]);m+=
a(C[Z])}}if(f===w&&!J&&!T){Q||(Q=l[c](H,""));D+=a(Q.paddingTop)||0;m+=a(Q.paddingLeft)||0}}else if(d){D-=a(C.top);m-=a(C.left)}if(S&&(!P||f===B)){D-=a(C.marginTop)||0;m-=a(C.marginLeft)||0}}t.x=x(I+m);t.y=x(E+D);return t}}function A(){s=true;var h=document,f=h.body;if(f){var t="marginTop",w="position",H="padding",B="static",E="border",l=f.style,I=l.cssText,C="1px solid transparent",L="0",J="1px",G="offsetTop",m=h.documentElement.style,D=m.cssText,z=h.createElement("div"),M=z.style;h=h.createElement(O);
l[H]=l[t]=l.top=L;m.position=B;l[E]=C;M.margin=L;M[w]=B;z=f.insertBefore(z,f.firstChild);U=z[G]===1;l[E]=L;h.innerHTML="<tbody><tr><td>x</td></tr></tbody>";h.style[E]="7px solid";h.cellSpacing=h.cellPadding=L;f.insertBefore(h,f.firstChild);b=h.getElementsByTagName("td")[0].offsetLeft===7;f.removeChild(h);l[t]=J;l[w]=Y;S=z[G]===1;g=f[G]===0;l[t]=L;l.top=J;d=z[G]===1;l.top=L;l[t]=J;l[w]=M[w]=Y;K=z[G]===0;M[w]="absolute";l[w]=B;if(z.offsetParent===f){l[E]=C;M.top="2px";k=z[G]===1;l[E]=L;M[w]=Y;m[H]=
J;l[t]=L;R=z[G]===3;l[w]=Y;T=z[G]===3;M[w]="absolute";V=z[G]===3;m[H]=L;m[t]=J;W=z[G]===3}f.removeChild(z);l.cssText=I||"";m.cssText=D||""}}function n(h,f){var t=u(h).y,w=u(f).y;return t+h.offsetHeight<=w+f.offsetHeight&&t>=w}function v(h,f){return u(h).y<=u(f).y}function q(h,f){return u(h).y+h.offsetHeight>=u(f).y+f.offsetHeight}var o=APE.dom,i=typeof document.createElement("p").scrollLeft=="number";APE.mixin(o,{getOffsetCoords:u,isAboveElement:v,isBelowElement:q,isInsideElement:n,IS_SCROLL_SUPPORTED:i});
var j=this.document,s,p=j.documentElement,x=Math.round,e=Math.max,a=self.parseFloat,c="getComputedStyle",F="defaultView",y=p&&p.clientWidth===0,N="clientTop"in p,O=/^h/.test(p.tagName)?"table":"TABLE",X="currentStyle"in p,U,S,d,g,b,k,K,R,T,V,W,ca=j[F]&&typeof j[F][c]!="undefined",aa="getBoundingClientRect",Y="relative",$="borderTopWidth",Z="borderLeftWidth",ba=/^(?:r|a)/,da=/^(?:a|f)/;j=p=null})();
(function(){function u(e,a){return v(a,"").test(e)}function A(e,a){var c=e[j];if(c)e[j]=c===a?"":i(c.replace(v(a,"g")," "))}function n(e,a){e[j]||(e[j]=a);v(a).test(e[j])||(e[j]+=" "+a)}function v(e,a){var c=e+"$"+a;return s[c]||(s[c]=RegExp("(?:^|\\s)"+e+"(?:$|\\s)",a))}function q(e,a,c){if(!c)return[];a=a||"*";if(e.getElementsByClassName&&a==="*")return e.getElementsByClassName(c);c=v(c,"");e=e.getElementsByTagName(a);a=e.length;var F=0,y,N=Array(a);for(y=0;y<a;y++)if(c.test(e[y][j]))N[F++]=e[y];
N.length=F;return N}function o(e,a,c){if(e==null||e===c)return null;a=v(a,"");for(e=e.parentNode;e!=c;){if(a.test(e[j]))return e;e=e.parentNode}return null}function i(e){return e.replace(p,"").replace(x," ")}APE.mixin(APE.dom,{hasToken:u,removeClass:A,addClass:n,getElementsByClassName:q,findAncestorWithClass:o});var j="className",s={},p=/^\s+|\s+$/g,x=/\s\s+/g})();
(function(){function u(){if(p in i)return function(a,c){return(a[p](c)&16)!==0};else if("contains"in i)return function(a,c){return a!==c&&a.contains(c)};return function(a,c){if(a===c)return false;for(;a!==c&&(c=c[x])!==null;);return a===c}}function A(a,c,F){var y;for(a=a[x];a!==null;){y=a.attributes;if(!y||!j)return null;if((y=y.getNamedItem(c))&&y.specified)if(y.value===F||F===undefined)return a;a=a[x]}return null}function n(a,c){c=c[e]();for(a=a[x];a!==null;){if(a.tagName===c)return a;a=a[x]}return null}
function v(a){for(a=a.nextSibling;a!==null;a=a.nextSibling)if(a[s]===1)return a;return null}function q(a){for(a=a.previousSibling;a!==null;a=a.previousSibling)if(a[s]===1)return a;return null}function o(a){var c,F=[],y=a.childNodes,N=y.length,O;F.length=N;for(a=c=0;a<N;a++){O=y[a];if(O[s]===1)F[c++]=O}F.length=c;return F}var i=document.documentElement,j="getNamedItem"in i.attributes,s="nodeType",p="compareDocumentPosition",x="parentNode",e=/^H/.test(i.tagName)?"toUpperCase":"toLowerCase";APE.mixin(APE.dom,
{contains:u(),findAncestorWithAttribute:A,findAncestorWithTagName:n,findNextSiblingElement:v,findPreviousSiblingElement:q,getChildElements:o});i=null})();
(function(){function u(j){return(j||window.event)[i]}function A(j,s){return o?s:function(p){s.call(j,p)}}function n(j,s,p){if(o)j.addEventListener(s,p,false);else{var x=A(j,p);j.attachEvent("on"+s,x)}return x||p}function v(j,s,p){o?j.removeEventListener(s,p,false):j.detachEvent("on"+s,p);return p}function q(j){j=j||window.event;if("preventDefault"in j)j.preventDefault();else if("returnValue"in j)j.returnValue=false}var o="addEventListener"in this,i=o?"target":"srcElement";APE.mixin(APE.dom.Event=
{},{eventTarget:i,getTarget:u,addCallback:n,removeCallback:v,preventDefault:q})})();APE.namespace("APE.dom.Event");(function(){function u(v){var q;q="pageX"in v?function(o){return{x:o.pageX,y:o.pageY}}:function(o){var i=A.getScrollOffsets();o=o||window.event;return{x:o.clientX+i.left,y:o.clientY+i.top}};return(n.getCoords=q)(v)}var A=APE.dom,n=A.Event;n.getCoords=u})();
(function(){function u(d){d=d[c];if(!N.test(d))return 1;d=N.exec(d);return d[1]/100}function A(d,g){var b=d[e];if(x in b)b[x]=g;else if(c in b){b[c]=F+g*100+")";if((d=d[p])&&!d.hasLayout)b.zoom=1}}function n(d,g){var b="",k,K;b=d[i.OWNER_DOCUMENT];if(/float/.test(g))g=X;if(s){k=b.defaultView[j](d,"");if(!(g in k))return"";b=k[g];if(b==="")b=q(k,g).join(" ");if(g=="zIndex"&&b=="normal")return"0";if(O.test(b))b=v(d,g)}else{k=d[p];if(g===x)b=u(k);else{b=k[g];if(O.test(b))b=v(d,g);else if(!(g in k))return""}if(g=
S.exec(b)){b=b.split(" ");b[0]=o(d,g[0]);k=1;for(K=b.length;k<K;k++){g=S.exec(b[k]);b[k]=o(d,g[0])}b=b.join(" ")}}return b}function v(d,g){var b=d[e],k;if("pixelWidth"in b&&/width|height|top|left/.test(g)){k="pixel"+g.charAt(0).toUpperCase()+g.substring(1);k=b[k]}if(k)return k+a;if(g==="width"){b=d.clientLeft||0;g=parseFloat(n(d,"borderRightWidth"))||b;k=parseFloat(n(d,"paddingLeft"))||0+parseFloat(n(d,"paddingRight"))||0;return d.offsetWidth-b-g-k+a}else if(g==="height"){b=d.clientTop||0;g=parseFloat(n(d,
"borderBottomWidth"))||b;parseFloat(n(d,"paddingTop"))||parseFloat(n(d,"paddingBottom"));return d.offsetHeight-b-g+a}else if(g=="margin"&&d[p].position!="absolute"){k=parseFloat(n(d.parentNode,"width"))-d.offsetWidth;if(k===0)return"0px";k="0px "+k;return k+" "+k}return"0"}function q(d,g){var b=y.exec(g),k,K,R,T=true,V,W=1;if(b&&b[0]){V=U;g=b[1]||b[0];b=b[2]||""}else return[""];k=d[g+V[0]+b];for(R=[k];W<4;){K=d[g+V[W]+b];T=T&&K==k;k=K;R[W++]=K}if(T)return[k];return R}function o(d,g){if(d.runtimeStyle){if(parseFloat(g)===
0)return"0px";var b=d[e],k=b.left,K=d.runtimeStyle,R=K.left;K.left=d[p].left;b.left=g||0;g=b.pixelLeft+a;b.left=k;K.left=R;return g}}var i=APE.dom;i.getStyle=n;i.setOpacity=A;var j="getComputedStyle",s=i.IS_COMPUTED_STYLE,p="currentStyle",x="opacity",e="style",a="px",c="filter",F="alpha("+x+"=",y=/^(?:margin|(border)(Width|Color|Style)|padding)$/,N=/\Wopacity\s*=\s*([\d]+)/i,O=/^auto|\d%$/,X="cssFloat",U=["Top","Right","Bottom","Left"];X in document.documentElement[e]||(X="styleFloat");var S=/(-?\d+|(?:-?\d*\.\d+))(?:em|ex|pt|pc|in|cm|mm\s*)/})();
