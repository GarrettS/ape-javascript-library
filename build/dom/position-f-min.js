APE.namespace("APE.dom");(function(){var G=APE.dom,B=Math.round,A=Math.max,H=typeof document.createElement("p").scrollLeft=="number";APE.createMixin(G,{getOffsetCoords:E,isAboveElement:D,isBelowElement:C,isInsideElement:F,IS_SCROLL_SUPPORTED:H});function E(K,I,R){var S=K[G.OWNER_DOCUMENT],T=S.documentElement,N=S.body;if(!I){I=S}if(!R){R={x:0,y:0}}R.x=R.y=0;if(K===I){return R}var J=G.IS_BODY_ACTING_ROOT?N:T,M=K.getBoundingClientRect(),Q=M.left+A(T.scrollLeft,N.scrollLeft),P=M.top+A(T.scrollTop,N.scrollTop),U,L=J.clientTop,O=J.clientLeft;if(G.IS_CLIENT_TOP_SUPPORTED){Q-=O;P-=L}if(I!==S){M=E(I,null);Q-=M.x;P-=M.y;if(G.IS_CLIENT_TOP_SUPPORTED){if(G.IS_BODY_ACTING_ROOT&&I===N){Q-=O;P-=L}else{if(I!==S&&I!==T&&I!==N){Q-=I.clientLeft;P-=I.clientTop}}}}if(G.IS_BODY_ACTING_ROOT&&G.IS_CURRENT_STYLE_SUPPORTED&&I!=S&&I!==N){U=N.currentStyle;Q+=parseFloat(U.marginLeft)||0+parseFloat(U.left)||0;P+=parseFloat(U.marginTop)||0+parseFloat(U.top)||0}R.x=Q;R.y=P;return R}function F(J,I){var L=G.getOffsetCoords(J).y,K=G.getOffsetCoords(I).y;return L+J.offsetHeight<=K+I.offsetHeight&&L>=K}function D(J,I){return(G.getOffsetCoords(J).y<=G.getOffsetCoords(I).y)}function C(J,I){return(G.getOffsetCoords(J).y+J.offsetHeight>=G.getOffsetCoords(I).y+I.offsetHeight)}})();