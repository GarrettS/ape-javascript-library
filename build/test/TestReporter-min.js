APE.test.TestReporter=function(H,D){APE.EventPublisher.add(H,"oncomplete",C);var E;function C(){E=document.createElement("b");E.appendChild(document.createTextNode("\u00a0PASS"));E.className="pass-flag";var I=D.lastChild||document.body.lastChild;var J=G(this);I.parentNode.insertBefore(J,I);I=null;E=null}this.insertBefore=function(K,I){var J=G(H,K.ownerDocument);K.insertBefore(J,I||K.firstChild)};function G(L,O){O=O||document;var N=O.createElement("ul"),K=L.testableList,M,J=K.length,I;for(M=0;M<J;M++){I=B(K[M],O);I.className="test-case";N.appendChild(I)}return N}function A(N,M){M=M||document;var L=M.createElement("ul"),K,J=N.length,I;for(K=0;K<J;K++){I=F(N[K],M);L.appendChild(I)}return L}function F(O){var J=document.createElement("li"),N=document.createElement("ul"),K,P,I,M=O.stack,L;P=J.cloneNode(false);I=J.cloneNode(false);I.className="errorStack";P.appendChild(document.createTextNode("message: "+O.message));if(O.stack){I.appendChild(document.createTextNode("stack: "));M=M.replace("@","<br>@");L=document.createElement("pre");L.innerHTML=M;I.appendChild(L)}J.appendChild(document.createTextNode(O.name+":"));N.appendChild(P);N.appendChild(I);J.appendChild(N);J.className="error";return J}function B(L,N){var J=N.createElement("li"),M=L.errorList.length,I=!!M,K=!!L.testableList.length,O='"'+L.name;if(L.parent&&!L.parent.parent){O+='"; failure count: '+M}J.id=L.id;APE.dom.addClass(J,I?"test-fail":"test-pass");J.appendChild(N.createTextNode(O));if(K){J.appendChild(G(L,N))}else{if(I){J.appendChild(A(L.errorList,N))}else{J.appendChild(E.cloneNode(true))}}return J}};