APE.namespace("APE.widget");(function(){var E=self.APE,J=E.widget,D=E.createFactory(I),F=E.dom,K,H="placeholder";K=D.IS_NATIVE=H in document.createElement("input");J.Placeholder=D;function I(O){this.id=O;if(!K){this.initEvents()}}var L={},N={};I.prototype={initEvents:function(){var O=document.getElementById(this.id),P=E.dom.Event.addCallback;L[O.id]=O.value;if(G(O)){B(O)}N[O.id]={focus:P(O,"focus",A),blur:P(O,"blur",M),drop:P(O,"drop",C)}},detachEvents:function(){var Q=E.dom.Event.removeCallback,O=document.getElementById(this.id),P;if(O){P=N[O.id];if(P){Q(O,"focus",P.focus);Q(O,"blur",P.blur);Q(O,"drop",P.drop);delete N[O.id];delete L[O.id]}}}};function B(O){L[O.id]=O.value;O.value=O.getAttribute(H);F.addClass(O,H)}function M(){if(G(this)){B(this)}else{L[this.id]=this.value}}function A(){F.removeClass(this,H);if(!L[this.id]){this.value=""}}function C(O){if(!G(this)){F.removeClass(this,H)}}function G(O){return O.value===""}})();