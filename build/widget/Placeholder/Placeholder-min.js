APE.namespace("APE.widget").createCustomFactory("Placeholder",function(A){var B,C="placeholder";B=A.IS_NATIVE=C in document.createElement("input");return D;function D(){function K(O){this.id=O;if(!B){this.initEvents()}}var H=self.APE,I=H.dom,L={},N={};K.prototype={initEvents:function(){var O=document.getElementById(this.id),P=H.dom.Event.addCallback;L[O.id]=O.value;if(J(O)){F(O)}N[O.id]={focus:P(O,"focus",E),blur:P(O,"blur",M),drop:P(O,"drop",G)}},detachEvents:function(){var Q=H.dom.Event.removeCallback,O=document.getElementById(this.id),P;if(O){P=N[O.id];if(P){Q(O,"focus",P.focus);Q(O,"blur",P.blur);Q(O,"drop",P.drop);delete N[O.id];delete L[O.id]}}}};function F(O){L[O.id]=O.value;O.value=O.getAttribute(C);I.addClass(O,C)}function M(){if(J(this)){F(this)}else{L[this.id]=this.value}}function E(){I.removeClass(this,C);if(!L[this.id]){this.value=""}}function G(O){if(!J(this)){I.removeClass(this,C)}}function J(O){return O.value===""}return K}});