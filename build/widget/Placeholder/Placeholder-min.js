APE.namespace("APE.widget");(function(){var E=self.APE,J=E.widget,D=E.createFactory(I),F=E.dom,L,H="placeholder";L=D.IS_NATIVE=H in document.createElement("input");J.Placeholder=D;function I(P){this.id=P;if(!L){this.initEvents()}}var M={},O={};I.prototype={initEvents:function(){var P=document.getElementById(this.id),Q=E.dom.Event.addCallback;M[P.id]=P.value;if(G(P)){B(P)}O[P.id]={focus:Q(P,"focus",A),blur:Q(P,"blur",N),drop:Q(P,"drop",C)}},detachEvents:function(){var R=E.dom.Event.removeCallback,P=document.getElementById(this.id),Q;if(P){Q=O[P.id];if(Q){R(P,"focus",Q.focus);R(P,"blur",Q.blur);R(P,"drop",Q.drop);delete O[P.id];delete M[P.id]}}}};function K(){M[this.id]=this.value}function B(P){M[P.id]=P.value;P.value=P.getAttribute(H);F.addClass(P,H)}function N(){if(G(this)){B(this)}else{M[this.id]=this.value}}function A(){F.removeClass(this,H);if(!M[this.id]){this.value=""}}function C(P){if(!G(this)){F.removeClass(this,H)}}function G(P){return P.value===""}})();