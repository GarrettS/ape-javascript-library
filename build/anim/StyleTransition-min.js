(function(){var Z=window.APE,Y=Z.anim,h=Y.Animation,X=h.prototype,f=Z.dom,U,I="fromValue",d="opacity",P="toValue",O="px",J="prototype",A="blendTo",c="toString",g="extend",N="style";Y.StyleTransition=M;function M(l,i,j,k){h.call(this,j);if(l.id){l=l.id}this.id=l;if(k){this.transition=k}this.init(i)}Z[g](M,h,{_start:function(){this[N]=document.getElementById(this.id)[N];X._start.call(this)},_end:function(){this[N]=null;X._end.call(this)},run:function(o){var l=0,n=this.adapters,j=n.length,m=this[N],k;while(l<j){k=n[l++];m[k.prop]=k[A](o)}},init:function(o){var k=document.getElementById(this.id),q=[],p,i,n,j=k[N],l=j.cssText,m={};if(U===undefined){U=!(d in j)&&("filter" in j)}for(i in o){if(!o[i]){continue}if(i===d&&U&&!k.currentStyle.hasLayout){j.zoom="1"}m[i]=f.getStyle(k,i)}e(k,o);for(i in o){n=o[i];if(D.test(n)){n=f.getStyle(k,i)}p=T.fromValues(i,m[i],n);q.push(p)}j.cssText=l;q.sort(function(s,r){return(s instanceof B?-1:1)});this.adapters=q},toString:function(){return"StyleTransitionAdapter : id=#"+this.id+"\n"+X[c].call(this)+"\nAdapters:\n  "+this.adapters.join("\n  ")}});function e(l,j){var m,i,k=l[N];for(m in j){i=j[m];if(m===d){f.setOpacity(l,i)}else{k[m]=i}}k.visibility="visible";k.display="block"}var D=/(^-?\d+|(?:-?\d*\.\d+))(px|em|ex|pt|pc|in|cm|mm|%)/i,E=/color/i,L=/(?:width|height|padding|fontSize)$/ig,K=/alpha/,W=/^\d+$/,C=/^(?:hidden|collapse)/;var T={fromValues:function(l,k,j){var i;if(L.test(l)){i=H}else{if(E.test(l)){i=b}else{if(D.test(k)){i=a}else{if(l===d){i=U?F:G}else{if(l=="fontWeight"&&W.test(k)&&W.test(j)){i=Q}else{if(l==="visibility"&&C.test(k)||l=="display"&&k=="none"){i=B}else{i=S}}}}}}return new i(l,k,j)}};var V=Z.color&&Z.color.ColorRGB;function R(k,j,i){this.prop=k;this[I]=j;this[P]=i}R[J][c]=function(){return"Transition: "+this.prop+", "+this[I][c]()+" \u2014 "+this[P][c]()};function b(m,l,i){if(!V){V=Z.color.ColorRGB}var k=V.fromString(l),j=i=V.fromString(i);R.call(this,m,k,j);this.currentValue=new V()}Z[g](b,R);b[J][A]=function(i){var j=V.blend(this[I],this[P],i,this.currentValue);return j[c]()};function a(k,j,i){R.call(this,k,parseFloat(j),parseFloat(i))}Z[g](a,R);a[J][A]=function(j){var i=1-j;return((this[I]*i)+(this[P]*j))+O};function H(){a.apply(this,arguments)}Z[g](H,a);H[J][A]=function(k){var i=1-k,j=Math.max((this[I]*i)+(this[P]*k),0)+O;return j};function G(k,j,i){R.call(this,k,parseFloat(j),parseFloat(i))}Z[g](G,R);G[J][A]=function(k){var i=1-k,j=Math.max((this[I]*i)+(this[P]*k),0);return j};function F(k,j,i){R.call(this,"filter",j,i)}Z[g](F,R);F[J][A]=function(k){var i=1-k,j=Math.abs((this[I]*i)+(this[P]*k),0);return"alpha(opacity="+Math.abs(j*100)+")"};function Q(k,j,i){R.call(this,k,parseInt(j),parseInt(i))}Z[g](Q,R);Q[J][A]=function(k){var i=1-k,j=(((this[I]*i)+(this[P]*k))/100<<0)*100;if(j<100){return 100}if(j>900){return 900}return j};function S(k,j,i){R.call(this,k,j,i)}Z[g](S,R);S[J][A]=function(i){if(i===1){return this[P]}return this[I]};function B(k,j,i){R.call(this,k,j,i)}Z[g](B,R);B[J][A]=function(i){if(i===0){return this[I]}return this[P]}})();