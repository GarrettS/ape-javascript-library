(function(){APE.anim.Animation=C,RVALUE="rationalValue";function C(E){if(typeof E=="number"){this.duration=E*1000}this.timeLimit=this.duration}function B(E){return E}C.prototype={paused:false,duration:1000,timeLimit:1000,isReversed:false,startOffset:0,endOffset:1,startValue:0,endValue:1,rationalValue:0,transition:B,position:0,onstart:B,onend:B,onabort:function(E){throw E},run:B,start:function(){if(this.paused){return}this.playing=true;this.timeLimit=this.duration;this.endOffset=this.transition(this.endValue);this._start()},_start:function(){A.unregister(this);this._startTime=new Date-0;this.onstart();A.register(this);this.started=true},seekTo:function(G,E){G=parseFloat(G);if(!isFinite(G)){return}if(G===this[RVALUE]){return}this.startOffset=this.position;this.startValue=this[RVALUE];this.endValue=G;var F=Math.abs(G-this.startValue);this.timeLimit=this.duration*F;this.isReversed=(G<this[RVALUE]);this._transitionBackwards=this.isReversed&&E;if(this._transitionBackwards){this.endOffset=1-this.transition(1-G)}else{this.endOffset=this.transition(G)}this._start()},toggleDirection:function(){if(!this.started){this.start();return}if(this.isReversed){this.seekTo(1)}else{this.seekTo(0,this.position==1)}},reset:function(){this.position=0;this.timeLimit=this.duration},pause:function(){this.paused=true;this.elapsedTime=new Date-this._startTime;A.unregister(this)},resume:function(){this.paused=false;this._startTime=new Date-this.elapsedTime;A.register(this)},toString:function(){return"Animation {duration millis: "+this.duration+", position:"+this.position+"}"},stop:function(E){this._end(E)},abort:function(E){A.unregister(this);this.onabort(E||{})},_end:function(E){A.unregister(this);if(E!==false){this.onend()}}};var A=new function(){this.register=H;this.unregister=G;var J=17,E=[],I;function H(N){if(E.length===0){L.call(this)}for(var M=0;M<E.length;M++){if(E[M]===N){return}}E.push(N)}function G(N){for(var M=0;M<E.length;M++){if(E[M]===N){E.splice(M,1)}}if(E.length===0){E=[];F.call(this)}}function L(){I=window.setInterval(K,J)}function K(){var N=0,O;for(;N<E.length;N++){try{O=E[N];D(O)}catch(M){if(O){O.abort(M)}}}}function F(){window.clearInterval(I)}};function D(F){var E=new Date-F._startTime;if(E>=F.timeLimit){F.run(F.position=F.endOffset);F[RVALUE]=F.endValue;F._end();return}var G=(E/F.duration);if(F.isReversed){F[RVALUE]=F.startValue-G;if(F._transitionBackwards){F.position=1-F.transition(1-F[RVALUE])}else{F.position=F.transition(F[RVALUE])}}else{F[RVALUE]=F.startValue+G;F.position=F.transition(F[RVALUE])}if(typeof F.onplay=="function"){F.onplay(F.position)}F.run(F.position)}})();APE.anim.Transitions={none:function(A){return A},accel:function(A){return A*A*A},decel:function(A){A=1-A;return 1-(A*A*A)},reverse:function(A){return 1-A},sigmoid:function(C,A){var B=Math.atan;A=A||1;return(B(A*(2*C-1))/B(A)+1)/(2)},sigmoid2:function(B){var A=Math.atan;return(A(2*(2*B-1))/A(2)+1)/(2)},sigmoid3:function(B){var A=Math.atan;return(A(3*(2*B-1))/A(3)+1)/(2)},sigmoid4:function(B){var A=Math.atan;return(A(4*(2*B-1))/A(4)+1)/(2)},tan:function(B){var A=Math.tan;return(A(1*(2*B-1))/A(1)+1)/(2)},reverseWarp:function(B){var A=Math.tan;return(A(2*(2*B-1))/A(2)+1)/(2)},easeInEaseOut:function(B){var A=Math.PI;return(Math.atan(B*A/1-A/2)+1)/2.0038848218538874},wobble:function(A){return(-Math.cos(3*A*Math.PI)/2)+0.5},loop:function(A){return(-Math.cos(2*A*Math.PI)/2)+0.5},spring:function(A){return 1-(Math.cos(A*4.5*Math.PI)*Math.exp(-A*6))},swingTo:function(B){var A=1.70158;return(B-=1)*B*((A+1)*B+A)+1},swingToFrom:function(B){var A=1.70158;if((B/=0.5)<1){return 0.5*(B*B*(((A*=(1.525))+1)*B-A))}return 0.5*((B-=2)*B*(((A*=(1.525))+1)*B+A)+2)},toString:function(){return"APE anim Transitions"}};(function(){var a=window.APE,Z=a.anim,i=Z.Animation,Y=i.prototype,g=a.dom,V,I="fromValue",f="opacity",P="toValue",O="px",J="prototype",A="blendTo",e="toString",h="extend",N="style";Z.StyleTransition=M;function M(m,j,k,l){i.call(this,k);if(m.id){m=m.id}this.id=m;if(l){this.transition=l}this.init(j)}a[h](M,i,{_start:function(){this[N]=document.getElementById(this.id)[N];Y._start.call(this)},_end:function(){this[N]=null;Y._end.call(this)},run:function T(o){var l=0,n=this.adapters,j=n.length,m=this[N],k;while(l<j){k=n[l++];m[k.prop]=k[A](o)}},init:function(p){var l=document.getElementById(this.id),r=[],q,j,o,k=l[N],m=k.cssText,n={};if(V===undefined){V=!(f in k)&&("filter" in k)}for(j in p){if(!p[j]){continue}if(j===f&&V&&!k.hasLayout){k.zoom="1"}n[j]=g.getStyle(l,j)}d(l,p);for(j in p){o=p[j];if(D.test(o)){o=g.getStyle(l,j)}q=U.fromValues(j,n[j],o);r.push(q)}k.cssText=m;r.sort(function(t,s){return(t instanceof B?-1:1)});this.adapters=r},toString:function(){return"StyleTransitionAdapter : id=#"+this.id+"\n"+Y[e].call(this)+"\nAdapters:\n  "+this.adapters.join("\n  ")}});function d(m,k){var n,j,l=m[N];for(n in k){j=k[n];if(n===f){g.setOpacity(m,j)}else{l[n]=j}}l.visibility="visible";l.display="block"}var D=/(^-?\d+|(?:-?\d*\.\d+))(px|em|ex|pt|pc|in|cm|mm|%)/i,E=/color/i,L=/(?:width|height|padding|fontSize)$/ig,K=/alpha/,X=/^\d+$/,C=/^(?:hidden|collapse)/;var U={fromValues:function(m,l,k){var j;if(L.test(m)){j=H}else{if(E.test(m)){j=c}else{if(D.test(l)){j=b}else{if(m===f){j=V?F:G}else{if(m=="fontWeight"&&X.test(l)&&X.test(k)){j=Q}else{if(m==="visibility"&&C.test(l)||m=="display"&&l=="none"){j=B}else{j=S}}}}}}return new j(m,l,k)}};var W=a.color&&a.color.ColorRGB;function R(l,k,j){this.prop=l;this[I]=k;this[P]=j}R[J][e]=function(){return a.getFunctionName(this.constructor)+": "+this.prop+", "+this[I][e]()+" \u2014 "+this[P][e]()};function c(n,m,j){if(!W){W=a.color.ColorRGB}var l=W.fromString(m),k=j=W.fromString(j);R.call(this,n,l,k);this.currentValue=new W()}a[h](c,R);c[J][A]=function(j){var k=W.blend(this[I],this[P],j,this.currentValue);return k[e]()};function b(l,k,j){R.call(this,l,parseFloat(k),parseFloat(j))}a[h](b,R);b[J][A]=function(k){var j=1-k;return((this[I]*j)+(this[P]*k))+O};function H(){b.apply(this,arguments)}a[h](H,b);H[J][A]=function(l){var j=1-l,k=Math.max((this[I]*j)+(this[P]*l),0)+O;return k};function G(l,k,j){R.call(this,l,parseFloat(k),parseFloat(j))}a[h](G,R);G[J][A]=function(l){var j=1-l,k=Math.max((this[I]*j)+(this[P]*l),0);return k};function F(l,k,j){R.call(this,"filter",k,j)}a[h](F,R);F[J][A]=function(l){var j=1-l,k=Math.abs((this[I]*j)+(this[P]*l),0);return"alpha(opacity="+Math.abs(k*100)+")"};function Q(l,k,j){R.call(this,l,parseInt(k),parseInt(j))}a[h](Q,R);Q[J][A]=function(l){var j=1-l,k=(((this[I]*j)+(this[P]*l))/100<<0)*100;if(k<100){return 100}if(k>900){return 900}return k};function S(l,k,j){R.call(this,l,k,j)}a[h](S,R);S[J][A]=function(j){if(j===1){return this[P]}return this[I]};function B(l,k,j){R.call(this,l,k,j)}a[h](B,R);B[J][A]=function(j){if(j===0){return this[I]}return this[P]}})();