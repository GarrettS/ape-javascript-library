(function(){var I="instances",J="prototype",B=Object[J],E=B.hasOwnProperty,A=["toString","valueOf"];function P(){}function N(Q,F){return O.call(Q,F)}function H(T){var U=T.split("."),R=self,S=0,F=U.length,Q;for(;S<F;S++){Q=U[S];if(!G(R,Q)){R[Q]=new L(R,Q)}R=R[Q]}return R}function O(R){if(typeof R!=="object"){return this}var S,Q=0,F;for(S in R){if(G(R,S)){this[S]=R[S]}}for(;Q<A.length;Q++){F=A[Q];if(G(R,F)){this[F]=R[F]}}return this}function D(F,S,Q){P[J]=S[J];var R=F[J]=new P;if(typeof Q=="object"){N(R,Q)}R.constructor=F;return F}function L(R,F){var Q=R.qualifiedName?R.qualifiedName+".":"";this.qualifiedName=Q+F}L[J]={toString:function(){return"["+this.qualifiedName+"]"},defineFactory:function(F,Q){M(this,F);return this[F]=new C(F,Q)},defineCustomFactory:function(F,Q){M(this,F);return this[F]=new C(F,Q,true)},mixin:O};function M(Q,F){if(G(Q,F)){throw Error(F+" is already defined on "+Q)}}function C(Q,S,U){var R=0,T;this.name=Q;this.getById=this.getByNode=F;if(U){S=S(this)}function F(X,V){if(typeof X.id==="string"){X=X.id||(X.id=Q+R++)}var W=this[I];if(!W){W=this[I]={};T=S(this)}return W[X]||(W[X]=new T(X,V))}}C[J].toString=function(){return"Factory "+this.name};function G(R,Q){if(Q in R){if(E){return E.call(R,Q)}var F=R.__proto__;if(F){return !(Q in F)||F[Q]!==R[Q]}return B[Q]!==R[Q]}return false}if(E&&!E.call(self,"Object")){var K=E;E=B.hasOwnProperty=function(F){return(this===self)?(F in this&&this[F]!==B[F]):K.call(this,F)}}H("APE").mixin({namespace:H,createSubclass:D,createFactory:function(F,Q){return new C(F,Q)},createMixin:N})})();(function(){var APE=self.APE,Registry={},isMaybeLeak
/*@cc_on=(@_jscript_version<5.7)@*/
;function EventPublisher(src,type){this.src=src;this._callStack=[];this.type=type}APE.EventPublisher=APE.createMixin(EventPublisher,{addCallback:add,removeCallback:remove,get:get,add:add,remove:remove,fire:fire,cleanUp:cleanUp,prototype:{addCallback:function(fp,thisArg){this._callStack.push([fp,thisArg||this.src]);return this},addBefore:function(f,thisArg){return add(this,"beforeFire",f,thisArg||this.src)},addAfter:function(f,thisArg){return add(this,"afterFire",f,thisArg||this.src)},getEvent:function(type){return get(this,type)},removeCallback:function(fp,thisArg){var cs=this._callStack,i,call;thisArg=thisArg||this.src;for(i=0;i<cs.length;i++){call=cs[i];if(call[0]===fp&&call[1]===thisArg){cs.splice(i,1)}}return this},removeBefore:function(fp,thisArg){return get(this,"beforeFire").removeCallback(fp,thisArg||this.src)},removeAfter:function(fp,thisArg){return get(this,"afterFire").removeCallback(fp,thisArg||this.src)},fire:function(payload){return fire(this)(payload)},toString:function(){return"EventPublisher src="+this.src+", type="+this.type+", length="+this._callStack.length+"}"}}});function cleanUp(){var type,publisherList,publisher,i,len;for(type in Registry){publisherList=Registry[type];for(i=0,len=publisherList.length;i<len;i++){publisher=publisherList[i];publisher.src[publisher.type]=null}}Registry={}}function add(src,sEvent,fp,thisArg){return get(src,sEvent).addCallback(fp,thisArg)}function remove(src,sEvent,fp,thisArg){return get(src,sEvent).removeCallback(fp,thisArg)}function fire(publisher){return fireEvent;function fireEvent(e){var preventDefault=false,i,cs=publisher._callStack,csi;if(typeof publisher.beforeFire=="function"){try{if(publisher.beforeFire(e)==false){preventDefault=true}}catch(ex){deferError(ex)}}for(i=0;i<cs.length;i++){csi=cs[i];try{if(csi[0].call(csi[1],e)==false){preventDefault=true}}catch(ex){deferError(ex)}}if(typeof publisher.afterFire=="function"){if(publisher.afterFire(e)==false){preventDefault=true}}return !preventDefault}}function deferError(error){self.setTimeout(function(){throw error},1)}function get(src,sEvent){var publisherList=Registry[sEvent]||(Registry[sEvent]=[]),i,len,publisher;for(i=0,len=publisherList.length;i<len;i++){publisher=publisherList[i];if(publisher.src===src){return publisher}}publisher=new EventPublisher(src,sEvent);if(src[sEvent]){publisher.addCallback(src[sEvent],src)}src[sEvent]=fire(publisher);publisherList[len]=publisher;return publisher}if(isMaybeLeak){get(window,"onunload").addAfter(cleanUp,EventPublisher)}})();APE.namespace("APE.dom").getConstants=function(H){H=H||document;var A="ownerDocument",B=H.documentElement,E="undefined",F=H.defaultView,C=H.compatMode,I,G=H.createElement("div"),D=C?C!="BackCompat":((I=G.style).width="1",!I.width);return{TEXT_CONTENT:typeof B.textContent==="string"?"textContent":"innerText",IS_BODY_ACTING_ROOT:B.clientWidth===0,OWNER_DOCUMENT:B&&typeof B[A]!==E?A:"document",IS_CURRENT_STYLE_SUPPORTED:typeof B.currentStyle!=E,IS_COMPUTED_STYLE_SUPPORTED:!!F&&F.getComputedStyle!=E,IS_COMPUTED_STYLE:F&&F.getComputedStyle!=E,IS_CLIENT_TOP_SUPPORTED:typeof B.clientTop!=E,IS_XML_DOM:B.tagName==="html",IS_QUIRKS_MODE:!D,IS_SCROLL_SUPPORTED:typeof G.scrollLeft=="number"}};APE.dom.mixin(APE.dom.getConstants(document));APE.namespace("APE.dom").key={LEFT:37,UP:38,RIGHT:39,DOWN:40,ARROW_KEY_EXP:/^(?:37|38|39|40)$/,ENTER:13,TAB:9,ESC:27};APE.namespace("APE.dom");(function(){var A="documentElement",D=APE.dom;D.mixin({getScrollOffsets:B,getViewportDimensions:C});function B(G){G=G||window;var F,E;if("pageXOffset" in G){F=function(H){H=H||window;return{left:H.pageXOffset,top:H.pageYOffset}}}else{F=function(I){I=I||window;var H=I.document[D.IS_BODY_ACTING_ROOT?"body":A];return{left:H.scrollLeft,top:H.scrollTop}}}E=(D.getScrollOffsets=F)(G);G=null;return E}function C(J){J=J||window;var F="document",L=F,K=J[F],M="client",H,I,E;if(typeof K.clientWidth=="number"){F="window"}else{if(D.IS_BODY_ACTING_ROOT){F=A;L="body"}else{if(K[A].clientHeight>0){L=A}}}H=M+"Width";I=M+"Height";function G(O){var N=(O||window)[F][L];return{width:N[H],height:N[I]}}E=(D.getViewportDimensions=G)(J);J=K=null;return E}})();APE.namespace("APE.dom").getOffsetCoords=function(C,B,E){var F=APE.dom,A=Math.max;function D(I,G,P){var Q=I[F.OWNER_DOCUMENT],R=Q.documentElement,L=Q.body;if(!G){G=Q}if(!P){P={x:0,y:0}}P.x=P.y=0;if(I===G){return P}var H=F.IS_BODY_ACTING_ROOT?L:R,K=I.getBoundingClientRect(),O=K.left+A(R.scrollLeft,L.scrollLeft),N=K.top+A(R.scrollTop,L.scrollTop),S,J=H.clientTop,M=H.clientLeft;if(F.IS_CLIENT_TOP_SUPPORTED){O-=M;N-=J}if(G!==Q){K=D(G,null);O-=K.x;N-=K.y;if(F.IS_CLIENT_TOP_SUPPORTED){if(F.IS_BODY_ACTING_ROOT&&G===L){O-=M;N-=J}else{if(G!==Q&&G!==R&&G!==L){O-=G.clientLeft;N-=G.clientTop}}}}if(F.IS_BODY_ACTING_ROOT&&F.IS_CURRENT_STYLE_SUPPORTED&&G!=Q&&G!==L){S=L.currentStyle;O+=parseFloat(S.marginLeft)||0+parseFloat(S.left)||0;N+=parseFloat(S.marginTop)||0+parseFloat(S.top)||0}P.x=O;P.y=N;return P}return(F.getOffsetCoords=D)(C,B,E)};if(!document.documentElement.getBoundingClientRect&&APE.dom.IS_COMPUTED_STYLE_SUPPORTED){(function(){var T=APE.dom,a=this.document,S,Z=a.documentElement;T.getOffsetCoords=V;var W=Math.round,Q=Math.max,C=self.parseFloat,D="getComputedStyle",K=T.IS_XML_DOM?"table":"TABLE",M,E,X,O,L,J,F,G,A,I,Y,U="relative",R="borderTopWidth",B="borderLeftWidth",H=/^(?:r|a)/,N=/^(?:a|f)/;a=Z=null;function V(c,o,s){var x=c[T.OWNER_DOCUMENT],v=x.documentElement,l=x.body;if(!o){o=x}if(!s){s={x:0,y:0}}s.x=s.y=0;if(c===o){return s}if(!S){P()}var h=c.offsetLeft,t=c.offsetTop,q=x.defaultView,g=q[D](c,"")||c.style;if(g.position=="fixed"&&T.IS_SCROLL_SUPPORTED){s.x=h+v.scrollLeft;s.y=t+v.scrollTop;return s}var k=q[D](l,""),m=!H.test(k.position),e=c,i=c.parentNode,b=c.offsetParent;for(;i&&i!==o;i=i.parentNode){if(i!==l&&i!==v&&T.IS_SCROLL_SUPPORTED){h-=i.scrollLeft;t-=i.scrollTop}if(i===b){if(i===l&&m){}else{if(!M&&!(i.tagName===K&&L)){var f=q[D](i,"");h+=C(f[B])||0;t+=C(f[R])||0}if(i!==l){h+=b.offsetLeft;t+=b.offsetTop;e=b;b=i.offsetParent}}}}var j=0,r=0,w,n,u=o===x||o===v,p,d;if(e!=x){g=q[D](e,"");if(g){d=g.position;w=N.test(d);n=w||H.test(d)}}if((e===c&&c.offsetParent===l&&!E&&o!==l&&!(m&&O))||(E&&e===c&&!n)||!m&&n&&F&&u){r+=C(k.marginTop)||0;j+=C(k.marginLeft)||0}if(o===l){p=q[D](v,"");if((!m&&((A&&!w)||(I&&w)))||m&&G){r-=C(p.paddingTop)||0;j-=C(p.paddingLeft)||0}if(Y){if(!n||n&&!m){r-=C(p.marginTop)||0}j-=C(p.marginLeft)||0}}if(m){if(J||(!w&&!M&&u)){r+=C(k[R]);j+=C(k[B])}}else{if(O){if(u){if(!X){r+=C(k.top)||0;j+=C(k.left)||0;if(w&&M){r+=C(k[R]);j+=C(k[B])}}if(o===x&&!m&&!A){if(!p){p=q[D](v,"")}r+=C(p.paddingTop)||0;j+=C(p.paddingLeft)||0}}else{if(X){r-=C(k.top);j-=C(k.left)}}if(E&&(!n||o===l)){r-=C(k.marginTop)||0;j-=C(k.marginLeft)||0}}}s.x=W(h+j);s.y=W(t+r);return s}function P(){S=true;var q=document,g=q.body;if(!g){return}var b="marginTop",t="position",i="padding",p="static",l="border",h=g.style,u=h.cssText,o="1px solid transparent",c="0",k="1px",m="offsetTop",j=q.documentElement.style,r=j.cssText,f=q.createElement("div"),e=f.style,n=q.createElement(K);h[i]=h[b]=h.top=c;j.position=p;h[l]=o;e.margin=c;e[t]=p;f=g.insertBefore(f,g.firstChild);M=(f[m]===1);h[l]=c;n.innerHTML="<tbody><tr><td>x</td></tr></tbody>";n.style[l]="7px solid";n.cellSpacing=n.cellPadding=c;g.insertBefore(n,g.firstChild);L=n.getElementsByTagName("td")[0].offsetLeft===7;g.removeChild(n);h[b]=k;h[t]=U;E=(f[m]===1);O=g[m]===0;h[b]=c;h.top=k;X=f[m]===1;h.top=c;h[b]=k;h[t]=e[t]=U;F=f[m]===0;e[t]="absolute";h[t]=p;if(f.offsetParent===g){h[l]=o;e.top="2px";J=f[m]===1;h[l]=c;e[t]=U;j[i]=k;h[b]=c;G=f[m]===3;h[t]=U;A=f[m]===3;e[t]="absolute";I=f[m]===3;j[i]=c;j[b]=k;Y=f[m]===3}g.removeChild(f);h.cssText=u||"";j.cssText=r||""}})()}APE.namespace("APE.dom").mixin(function(){var B={},D=APE.dom,C,E,F,I,J,K=document.documentElement.classList!=undefined;function A(M,L){var N=M+"$"+L;return B[N]||(B[N]=RegExp("(?:^|\\s)"+M+"(?:$|\\s)",L))}if(!K){E=function(M,L){return A(L,"").test(M.className)};F=function(M,L){if(!M.className){M.className=L}else{if(!A(L).test(M.className)){M.className+=" "+L}}};I=function(M,L){var N=M.className;if(N){M.className=N===L?"":C(N.replace(A(L,"g")," "))}};J=function(M,L){(E(M,L)?I:F)(M,L)};C=function(L){return L.replace(/^\s+|\s+$/g,"").replace(/\s\s+/g," ")}}else{E=function(M,L){return M.classList.contains(L)};F=function(M,L){return M.classList.add(L)};I=function(M,L){return M.classList.remove(L)};J=function(M,L){M.classList.toggle(L)}}function H(M,N,T){if(!T){return[]}N=N||"*";if(M.getElementsByClassName&&(N==="*")){return M.getElementsByClassName(T)}var O=A(T,""),Q=M.getElementsByTagName(N),S=[],R=S.length=Q.length,L=0,P;for(P=0;P<R;P++){if(O.test(Q[P].className)){S[L++]=Q[P]}}S.length=L;return S}function G(O,L,M){if(O==null||O===M){return null}for(var N=O.parentNode;N&&N!=M&&N.className;){if(E(N,L)){return N}N=N.parentNode}return null}return{hasClass:E,addClass:F,removeClass:I,toggleClass:J,getElementsByClassName:H,findAncestorWithClass:G}}());APE.namespace("APE.dom").mixin(function(){var C=document.documentElement,K="parentNode",E=APE.dom,H=E.IS_XML_DOM?"toLowerCase":"toUpperCase";C=null;return{contains:D,isOrContains:J,findAncestorWithAttribute:A,findAncestorWithTagName:L,findNextSiblingElement:B,findPreviousSiblingElement:G,getChildElements:I};function D(O,M){if(!O){return false}var P="compareDocumentPosition",N=(P in O)?function(S,R){try{return !!(S&&R)&&((S[P](R)&16)!==0)}catch(Q){return false}}:("contains" in O)?function(R,Q){return !!R&&R!==Q&&R.contains(Q)}:function(R,Q){if(!R||!Q||R===Q){return false}while(R&&R!==Q&&(Q=Q[K])!==null){}return R===Q};return(D=E.contains=N)(O,M)}function J(N,M){return N===M||E.contains(N,M)}function A(P,S,Q){for(var M,O,R,N=P[K];N!==null;){R=N.attributes;if(!R){return null}M=R[S];if(M&&M.specified){if(M.value===Q||Q===O){return N}}else{if(N.getAttribute){M=N.getAttribute(S,2);if(M===Q||Q===O&&M!==null){return N}}}N=N[K]}return null}function L(P,M,N){M=M[H]();N=N||null;for(var O=P[K];O&&O!==N;){if(O.tagName===M){return O}O=O[K]}return null}function B(M){return F(M,"nextSibling")}function G(M){return F(M,"previousSibling")}function F(M,N){for(var O=M[N];O!==null;O=O[N]){if(O.nodeType===1&&O.tagName!=="!"){return O}}return null}function I(Q){var P,O,N=[],S=Q.childNodes,M=S.length,R;N.length=M;for(P=O=0;P<M;P++){R=S[P];if(R.nodeType!==1||R.tagName==="!"){continue}N[O++]=R}N.length=O;return N}}());APE.namespace("APE.dom").Event=function(){var F="addEventListener" in this,G=F?"target":"srcElement",L={get:C,getTarget:B,getRelatedTarget:A,add:J,addCallback:J,remove:E,removeCallback:E,purgeEvents:D,preventDefault:H,stopPropagation:I,toString:function(){return"APE.dom.Event"}};function C(M,N){L.get=O;var U=F?"focus":"focusin",T=F?"blur":"focusout",V={},P,S={focus:U,blur:T},R;function Q(X,W){if(!X.addEventListener&&!X.attachEvent){throw TypeError(X+" is not a compatible object.")}this.src=X;this.type=W;this._callStack=[]}Q.prototype={add:function(Y){Q.prototype.add=X;this.add(Y);function X(c){var b=this.src,Z=S[this.type],a=Z||this.type;if(F){b.addEventListener(a,c,!!Z)}else{c=W(b,c);b.attachEvent("on"+a,c)}this._callStack.push(c)}function W(b,Z){if(b===window){return Z}function a(c){a.original.call(a.context,c||window.event)}a.original=Z;a.context=b;Z=b=null;return a}},remove:function(Y){Q.prototype.remove=W;this.remove(Y);function W(Z){Z=X(this._callStack,Z);if(Z){if(F){this.src.removeEventListener(this.type,Z,this.type in S)}else{this.src.detachEvent("on"+this.type,Z)}}}function X(b,d){var a,c,Z;for(c=0,Z=b.length;c<Z;c++){a=b[c];if((a.original||a)===d){delete a.original;delete a.context;return b.splice(c,1)[0]}}return null}},purge:function(){var X=this._callStack,W,Y;for(Y=X.length;Y-->0;X.length=Y){W=X[Y];this.remove(W.original||W)}},toString:function(){return"DomEventPublisher: src: "+this.src+", type: "+this.type}};function O(b,a){var Z=V[a]||(V[a]=[]),X,W,Y;for(X=0,W=Z.length;X<W;X++){Y=Z[X];if(Y.src===b){return Y}}Y=new Q(b,a);Z[W]=Y;return Y}if(P){O(window,"unload").add(R=function(){var Z,Y,W,X;for(Z in V){Y=V[Z];for(W=Y.length;W-->0;Y.length=W){X=Y[W];if(X.src!=X.src.window){X.purge()}}delete V[Z]}E(window,"unload",R)})}return O(M,N)}function B(M){return(L.getTarget=F?function(N){return N&&K(N,G)}:function(N){N=window.event;return N&&N.srcElement})(M)}function A(P){if(!F){var O={mouseover:"fromElement",mouseenter:"fromElement",mouseout:"toElement",mouseleave:"toElement"};return(L.getRelatedTarget=function(R){R=R||window.event;if(R){var Q=O[R.type],S=K(R,Q);return S}})(P)}if(P){var N=P.relatedTarget;try{N.nodeName}catch(M){}return N}}function K(O,M){var N=O[M];if(N&&N.nodeName==="#text"){N=N.parentNode}return N}function J(O,N,M){L.get(O,N).add(M)}function D(P,O){if(typeof O=="string"){L.get(P,O).purge()}else{for(var N=0,M=O.length;N<M;N++){L.get(P,O[N]).purge()}}}function E(P,O,N,M){L.get(P,O).remove(N)}function H(M){M=M||window.event;if("preventDefault" in M){M.preventDefault()}else{if("returnValue" in M){M.returnValue=false}}}function I(M){if(F){M.stopPropagation()}else{(window.event||M).cancelBubble=true}}return L}();APE.dom.Event.getCoords=function(C){var D=APE.dom,B,A;if("pageX" in C){B=function(E){return{x:E.pageX,y:E.pageY}}}else{B=function(F){var E=D.getScrollOffsets();F=F||window.event;return{x:F.clientX+E.left,y:F.clientY+E.top}}}A=(D.Event.getCoords=B)(C);C=null;return A};APE.namespace("APE.dom");(function(){var Q=APE.dom,E=Q.IS_COMPUTED_STYLE_SUPPORTED,P="currentStyle",O="opacity",F="style",G="px",J="filter",I="alpha("+O+"=",M=/^(?:margin|(border)(Width|Color|Style)|padding)$/,N=/\Wopacity\s*=\s*([\d]+)/i,A=/^auto|\d%$/,L="cssFloat",C=["Top","Right","Bottom","Left"];if(!(L in document.documentElement[F])){L="styleFloat"}function K(U){var W,V=U[J];if(!N.test(V)){return 1}W=N.exec(V);return W[1]/100}function R(X,U){var W=X[F],V;if(O in W){W[O]=U}else{if(J in W){W[J]=I+(U*100)+")";V=X[P];if(V&&!V.hasLayout){W.zoom=1}}}}function D(V,U){var c="",Z,Y,W,X,a,b=V[Q.OWNER_DOCUMENT];if(/float/.test(U)){U=L}if(E){Z=b.defaultView.getComputedStyle(V,"");if(!(U in Z)){return""}c=Z[U];if(c===""){c=S(Z,U).join(" ")}if(U=="zIndex"&&c=="normal"){return"0"}if(A.test(c)){c=T(V,U)}}else{Z=V[P];if(U===O){c=K(Z)}else{c=Z[U];if(A.test(c)){c=T(V,U)}else{if(!(U in Z)){return""}}}Y=H.exec(c);if(Y){W=c.split(" ");W[0]=B(V,Y[0]);for(X=1,a=W.length;X<a;X++){Y=H.exec(W[X]);W[X]=B(V,Y[0])}c=W.join(" ")}}return c}function T(W,V){var c=W[F],b,X,U,Y,a,Z;if(/^(?:width|height|top|left)$/.test(V)&&typeof c.pixelWidth!="undefined"){X="pixel"+(V.charAt(0).toUpperCase())+V.substring(1);b=c[X]}if(b){return b+G}if(V==="width"){a=W.clientLeft||0;U=parseFloat(D(W,"borderRightWidth"))||a;Z=parseFloat(D(W,"paddingLeft"))||0+parseFloat(D(W,"paddingRight"))||0;return W.offsetWidth-a-U-Z+G}else{if(V==="height"){Y=W.clientTop||0;U=parseFloat(D(W,"borderBottomWidth"))||Y;Z=parseFloat(D(W,"paddingTop"))||0+parseFloat(D(W,"paddingBottom"))||0;return W.offsetHeight-Y-U+G}else{if(V==="margin"&&W[P].position!="absolute"){b=parseFloat(D(W.parentNode,"width"))-W.offsetWidth;if(b===0){return"0px"}b="0px "+b;return b+" "+b}}}return"0"}function S(a,V){var W=M.exec(V),Y,e,Z,c,d,b=true,U,X=1;if(W&&W[0]){U=C;Y=W[1]||W[0];e=W[2]||""}else{return[""]}Z=a[Y+U[0]+e];d=[Z];while(X<4){c=a[Y+U[X]+e];b=b&&c==Z;Z=c;d[X++]=c}if(b){return[Z]}return d}var H=/(-?\d+|(?:-?\d*\.\d+))(?:em|ex|pt|pc|in|cm|mm\s*)/;function B(Y,Z){if(Y.runtimeStyle){if(parseFloat(Z)===0){return"0px"}var X=Y[F],W=X.left,V=Y.runtimeStyle,U=V.left;V.left=Y[P].left;X.left=(Z||0);Z=X.pixelLeft+G;X.left=W;V.left=U;return Z}}Q.getStyle=D;Q.setOpacity=R})();APE.dom.getPixelCoords=function(B){var A,D=APE.dom,E=self.parseInt,C=(D.IS_COMPUTED_STYLE_SUPPORTED?function(G){var F=G[D.OWNER_DOCUMENT].defaultView.getComputedStyle(G,"");return{x:E(F.left,10)||0,y:E(F.top,10)||0}}:function(H,F){var G=H.style,F=F||D.getStyle;return{x:G.pixelLeft||E(F(H,"left"),10)||0,y:G.pixelTop||E(F(H,"top"),10)||0}});A=(D.getPixelCoords=C)(B,getStyle);B=null;return A};